(()=>{var e={364:(e,t,s)=>{const a=s(703),n=s(430),r=s(205),i=s(432),o=s(347),l=s(575),c=s(789);e.exports=class{constructor(){new i,this.loggerService=new o,this.apiService=new c,this.state=new n,this.previousUrl=new URL(window.location.href),this.observer=new r(this.state),this.widget=new a(this.state,this.observer),this.preview=new l(this.observer,this.state)}async init(e){if(!this.checkingLibraries()){if(!this.validateParams(e))return!1;this.state.set("api_key",e.api_key),e.is_shopify&&this.state.set("is_shopify",e.is_shopify),e.is_wordpress&&this.state.set("php_plugin_cur_lang",e.is_wordpress),e.is_joomla&&this.state.set("php_plugin_cur_lang",e.is_joomla),e.auto_translate&&this.state.set("params.auto_translate",e.auto_translate),e.preview&&(this.state.set("preview",e.preview),this.state.set("hide_conveythis_button",1)),e.languages&&this.state.set("languagesList",e.languages),e.is_app&&this.state.set("is_app",e.is_app);try{if(await this.getData()){if(this.observer.observe(),this.urlMonitor(window.history),this.state.get("params.is_excluded"))return!1;this.state.get("preview")?await this.preview.start():await this.widget.start()}}catch(e){console.error("Failed to initialize Widget.",e)}}}async getData(){try{let e,t;if(!this.state.get("is_app")||!this.state.get("preview"))return e=await this.apiService.get(`/website/code/get?api_key=${this.state.get("api_key")}&referer=${this.encodeToBase64(this.previousUrl.origin)}&only_data=1${this.state.get("is_shopify")?"&is_shopify=1":""}&href=${this.encodeToBase64(this.previousUrl.href)}`,{"Content-Type":"application/json",Referer:this.previousUrl.origin}),e?await this.setParams(e):(this.loggerService.notActiveDomain(),!1);try{t=document.getElementById("domain_name").value}catch(e){}t?await this.processDomain(t):this.initializeDomainSelection()}catch(e){console.error("Failed to get data:",e)}}async handleDomainSelection(e){const t=this.state.get("api_key"),s=this.state.get("is_shopify")?"&is_shopify=1":"",a=`/website/code/get?api_key=${t}&domain_name=${e}&referer=${this.encodeToBase64(e)}&only_data=1${s}`;return await this.apiService.get(a,{"Content-Type":"application/json",Referer:"https://"+e})}async processDomain(e){const t=await this.handleDomainSelection(e);if(!t)return this.loggerService.notActiveDomain(),!1;await this.setParams(t)&&await this.preview.start()}initializeDomainSelection(){const e=document.getElementById("domain");e&&e.addEventListener("change",(async e=>{const t=e.target.options[e.target.selectedIndex].text;t&&await this.processDomain(t)}))}async setParams(e){const t=await this.apiService.get("/languages/get");if(e.languages_total=t.reduce(((e,t)=>(e[t.language_id]={title:t.title,title_native:t.title_native,code2:t.code2,code3:t.code3,flag:t.flag,right_to_left:t.right_to_left,active:t.active,location:this.state.get("php_plugin_cur_lang")?`/${t.code2}/`:""},e)),{}),this.state.get("php_plugin_cur_lang"))try{e.languages_list=this.state.get("languagesList")?this.state.get("languagesList"):JSON.parse(e.languages_list)}catch(e){console.error("Error JSON parser: ",e)}else e.languages_list=JSON.parse(e.languages_list);return e.style_change&&(e.style_change=JSON.parse(e.style_change)),this.state.set("params",e),this.state.set("page_path",window.location.hostname+window.location.pathname+window.location.hash),"subdirectory"===e.is_subdomain&&(this.setLocationToLanguages(),this.setCurrentLanguage()),!0}setCurrentLanguage(){const e=window.location.pathname,t=this.state.get("params.languages_list"),s=this.state.get("params.source_language_id"),a=t.filter((e=>e.id!==s)).map((e=>e.code)),n=new RegExp(`^(/(${a.join("|")})\\/)(.*)`),r=e.match(n),i=r?r[2]:"",o=i?t.find((e=>e.code===i))?.id:s;this.state.set("current_language_id",o)}setLocationToLanguages(){let e=this.state.get("params.languages_list");for(const t in e){let s=e[t].code;e[t].location=this.getLocation("/",s)}this.state.set("params.languages_list",e)}getLocation(e,t,s=!1){let a=this.deleteQueryParams(window.location.pathname,s);const n=/^\/[a-z]{2}(\/|$)/;return n.test(a)&&(a=a.replace(n,"/")),this.state.get("params.source_language_code")===t?a:e+t+"/"+a.substring(1)}deleteQueryParams(e,t){try{const s=new URL(e);if(s.search){t&&(s.search="");const e=new URLSearchParams(s.search);this.variables.query_params_block.forEach((t=>{e.delete(t)}));return`${s.pathname}${e.toString()?"?"+e.toString():""}`}}catch(e){}return e}validateParams(e){return"object"==typeof e&&void 0!==e.api_key&&"string"==typeof e.api_key&&e.api_key?(console.log("%cSuccessful connection ConveyThis Widget","font-size:20px; color:green;"),!0):(this.loggerService.support(),console.error("API key not found in the URL."),!1)}checkingLibraries(){return!("indexedDB"in window)&&(this.loggerService.support(),console.error("Error: Your browser is outdated and does not support IndexedDB."),!0)}urlMonitor(e){this.history=e;const t=e.pushState;this.history.pushState=async(...e)=>{t.apply(this.history,e),await this.checkUrlChange()};const s=e.replaceState;this.history.replaceState=async(...e)=>{s.apply(this.history,e),await this.checkUrlChange()},window.addEventListener("popstate",(async()=>await this.checkUrlChange()))}async checkUrlChange(){const e=new URL(window.location.href),t=e.pathname!==this.previousUrl.pathname;this.previousUrl=e,t&&await this.widget.translate()}encodeToBase64(e){var t=(new TextEncoder).encode(e),s=Array.prototype.map.call(t,(e=>String.fromCharCode(e))).join("");return btoa(s)}}},575:(e,t,s)=>{const a=s(432),n=s(789),r=s(733),i=s(961);e.exports=class{constructor(e,t){this.state=t,this.observer=e,this.eventHandlers={},this.drawButtonService=new i(this.observer,this.state,this.translateClass),this.previousUrl=new URL(window.location.href),this.translateClass=new r(this.state,this.observer),this.indexedDBService=new a,this.apiService=new n,window.conveythisSettings={effect:()=>{},languages:{},render:()=>{},target_languages:[],view:()=>{}}}async start(){if(this.state.set("params.selector","customize-view-button"),0==this.state.get("params.languages_list").length){let e=this.getLanguages();e.length>0&&this.state.set("params.languages_list",e)}if(this.previousUrl!==document.location.href&&this.state.get("params.source_language_id")&&this.render(this.state.get("params.source_language_id")),this.state.get("php_plugin_cur_lang")){const e={key:"conveythisLanguageId",value:this.state.get("php_plugin_cur_lang")};await this.indexedDBService.addItem("translations",e),this.render(this.state.get("php_plugin_cur_lang"))}else this.render();const e={effect:e=>{this.effectCallback=e},view:()=>{var e,t,s={},a=[];this.state.set("params.selector","customize-view-button"),this.state.set("params.positionTop",0),this.state.set("params.positionBottom",0),this.state.get("params.selector");var n=document.getElementsByName("style_change_language[]"),r=document.getElementsByName("style_change_flag[]");try{var i=document.getElementById("style_background_color").value,o=document.getElementById("style_hover_color").value,l=document.getElementById("style_border_color").value,c=document.getElementById("style_text_color").value,d=document.querySelector('input[name="style_corner_type"]:checked').value}catch(e){}for(let e in n)n&&Array.isArray(n)&&n.length>0&&n[e].includes("value")&&(s[n[e].value]=r[e].value);this.getElements("style_flag",(function(t){t.checked&&(e=t.value)})),this.getElements("style_text",(function(e){e.checked&&(t=e.value)}));this.getElements("source_language",(function(e){for(let t in window.conveythisSettings.languages)window.conveythisSettings.languages[t].code2===e.value&&a.push({id:t,active:!0})})),this.getElements("target_languages",(function(e){let t=e.value.split(",");for(let e=0;e<t.length;e++)for(let s in window.conveythisSettings.languages)window.conveythisSettings.languages[s].code2===t[e]&&a.push({id:s,active:!0})})),this.state.set("params.style_change",s),this.state.set("params.style_flag",e),this.state.set("params.style_text",t),this.state.set("params.languages_list",a),this.state.set("params.style_background_color",i),this.state.set("params.style_hover_color",o),this.state.set("params.style_border_color",l),this.state.set("params.style_text_color",c),this.state.set("params.style_corner_type",d),this.start(),this.render()},_init:()=>{window.conveythisSettings.languages=this.state.get("params.languages_total"),window.conveythisSettings.effect=e.effect,window.conveythisSettings.view=e.view,window.conveythisSettings.target_languages=this.state.get("params.languages_list")}};this.removeEventListeners(),this.addEventListeners(),e._init()}addEventListeners(){this.eventHandlers.style_text=e=>{window.conveythisSettings.view()},this.eventHandlers.style_flag=e=>{window.conveythisSettings.view()},this.getElements("style_text",(e=>{e.addEventListener("click",this.eventHandlers.style_text)})),this.getElements("style_flag",(e=>{e.addEventListener("click",this.eventHandlers.style_flag)}))}removeEventListeners(){this.getElements("style_text",(e=>{e.removeEventListener("click",this.eventHandlers.style_text)})),this.getElements("style_flag",(e=>{e.removeEventListener("click",this.eventHandlers.style_flag)}))}getElements(e,t){let s=document.getElementsByName(e);for(let e=0;e<s.length;e++)t(s[e])}getLanguages(){let e=this.state.get("params.languages_total"),t=[];return this.getElements("source_language",(function(s){for(let a in e)e[a].code2===s.value&&t.push({id:a,active:!0})})),this.getElements("target_languages",(function(s){let a=s.value.split(",");for(let s=0;s<a.length;s++)for(let n in e)e[n].code2===a[s]&&t.push({id:n,active:!0})})),t}async recursiveNode(e){if(e.length>0){let t=await this.indexedDBService.getItem("translations","conveythisLanguageId"),s="";if(t&&(s=this.state.get("params.languages_total")[t].code2),s)for(let a of e)if("STYLE"!==a.nodeName&&"SCRIPT"!==a.nodeName&&"IFRAME"!==a.nodeName&&"HEAD"!==a.nodeName){if((null===a.parentNode||"STYLE"!==a.parentNode.nodeName&&"SCRIPT"!==a.parentNode.nodeName&&"IFRAME"!==a.parentNode.nodeName)&&3===a.nodeType&&a.textContent){let e=a.textContent.trim();if(e=e.trim(),e.length>0){const n=this.state.get("conveyItemsDB");let r=!1;for(let i=0;i<n.length;i++){let o=n[i];if(o.source_text&&o.translate_text&&o.source_text===e&&o.target_language_id===t){a.textContent=o.translate_text,r=!0;break}if(!r){let r=location.href;r=r.replace("/"+s+"/","/");const i=await this.apiService.post("/website/translate/ajax",{referrer:r,target_language:s,segment:e,api_key:this.state.get("api_key"),ajax:1});"object"==typeof i&&i.length>0&&(this.observer.disconnect(),i[0].target_language_id=t,n.push(i[0]),a.textContent=i[0].translate_text,this.observer.observe())}}}}a.childNodes&&a.childNodes.length>0&&await this.recursiveNode(a.childNodes)}}}render(e){this.observer.disconnect();let t=document.getElementById("conveythis_api_key");if(t){t.value||this.state.set("params.hide_conveythis_button",1)}this.state.get("preview")&&this.drawButtonService.init("conveythisSettings-wrapper",e),this.state.get("source_language_id")!==this.indexedDBService.getItem("translations","conveythisLanguageId")&&this.observer.observe()}}},733:(e,t,s)=>{const a=s(789),n=s(961),r=s(432);e.exports=class{constructor(e,t){this.state=e,this.observer=t,this.apiService=new a,this.drawButtonService=new n(this.observer,this.state,this),this.indexedDBService=new r,this.siblingsAllowArray=["A","ABBR","ACRONYM","BUTTON","BDO","BDI","STRONG","BR","SPAN","EM","I","B","CITE","DEL","DFN","INS","MARK","Q","BIG","SMALL","SUB","SUP","U","FONT"],this.siblingsAvoidArray=["P","DIV","SVG"],this.documentExt=["pdf","doc","docx","xls","xlsx","ppt","pptx"],this.imageExt=["jpg","jpeg","png","gif","webp","svg"]}async translator(e,t=document.documentElement){if((this.state.get("params.is_excluded")||"subdomain"===this.state.get("params.is_subdomain"))&&!this.state.get("params.dynamic_translation")||"subdirectory"===this.state.get("params.is_subdomain")&&!location.href.includes("conveythis.com/dashboard/translation/visual/")&&!this.state.get("params.dynamic_translation")||this.drawButtonService.isDisableMode())return;const s=this.state.get("params.languages_total")[e];if(this.state.set("translations",[]),this.state.set("ajaxSentSegments",[]),+e==+this.state.get("params.source_language_id"))this.tree(t,!0),this.drawButtonService.render(e),this.removeUrlLocale(),this.languageChangedEvent(s);else{this.tree(t,!1),this.state.set("target_language_code",s.code2);const a=this.state.get("target_language_code"),n=this.state.get("page_path");let r=!0;await this.hasLocalCache(a,n)&&(this.state.set("translations",await this.readFromLocalCache(a,n)),this.drawButtonService.render(e),this.observer.disconnect(),this.tree(t,!0),this.observer.observe(),r=!1);const i=this;this.sendTranslationRequest(r,a,this.state.get("segments"),(async function(r,o){if("error"===o)return await i.indexedDBService.deleteItem("translations","conveythisLanguageId"),location.href=location.protocol+"//"+location.host+location.pathname,!1;document.body.style.opacity=1,i.state.set("translations",r),i.drawButtonService.render(e),i.observer.disconnect(),i.tree(t,!0),i.observer.observe(),await i.saveToLocalCache(a,n,r),i.languageChangedEvent(s)})),"default"!==i.state.get("params.is_subdomain")&&this.setUrlLocale(s.code2)}const a={key:"conveythisLanguageId",value:e};await this.indexedDBService.addItem("translations",a),this.translateShopifyCart(e)}async ajax(e,t){if(!this.state.get("params.dynamic_translation")||this.state.get("params.source_language_id")===e)return;const s=this.state.get("params.languages_total")[e];let a=t.addedNodes;if(0===a.length)return!0;let n=location.href.replace(`/${s.code2}/`,"/");"subdomain"===this.state.get("params.is_subdomain")&&(n=location.href.replace(`//${s.code2}.`,"//"));for(const t of a){if(t&&(["g","svg","path"].includes(t.tagName.toLowerCase())||!document.body.contains(t)))continue;void 0===t.conveythis&&(t.conveythis={}),this.tree(t,!1);let a=this.state.get("segments");if(t&&0!==a.length){for(const r of a)await this.processSegment(r,t,s,n,e);this.state.set("segments",a)}}return!0}async processSegment(e,t,s,a,n){let r=this.state.get("translations")||[];if(!r.some((t=>t.translate_text&&t.source_text===e)))try{const i=await this.apiService.post("/website/translate/ajax",{referrer:a,target_language:s.code2,segment:e,api_key:this.state.get("api_key"),ajax:1});Array.isArray(i)&&i.length>0&&i[0]&&(this.observer.disconnect(),r.push(i[0]),this.state.set("translations",r),this.tree(t,!0),this.translateShopifyCart(n),this.observer.observe())}catch(e){console.error("Error handling segment translation:",e)}}async tree(e,t){let s=this.state.get("params.no_translate_element_ids");s=s?JSON.parse(s):[];let a=!!e&&e.childNodes;if(!a)return;let n=a.length;try{if(null!=e.parentNode&&e.parentNode.closest){if(e.parentNode.closest(".conveythis-no-translate")||e.classList&&e.classList.contains("material-icons-outlined")||e.parentNode.closest("STYLE")||e.parentNode.closest("SCRIPT")||e.parentNode.closest("NOSCRIPT"))return;for(let t of s)if(/^[a-zA-Z][\w-]*$/.test(t))try{if(e.parentNode.closest("#"+t))return}catch(e){console.error("Error in function tree: ",e)}}}catch(e){console.error("Error in function tree: ",e)}if(3===e.nodeType)e.textContent.replace(/[\u200B-\u200D\uFEFF]/g,"").trim()&&(e.nextSibling||e.previousSibling)&&void 0===e.conveythis&&e.parentElement&&this.allowTranslateWholeTag(e.parentElement)&&this.shouldTranslateWholeTag(e.parentElement)?this.apply(e.parentElement,"innerHTML",t):this.apply(e,"textContent",t);else if(1===e.nodeType&&"SCRIPT"!==e.nodeName.toUpperCase()&&"STYLE"!==e.nodeName.toUpperCase()&&"NOSCRIPT"!==e.nodeName.toUpperCase()&&("IFRAME"!==e.nodeName.toUpperCase()||e.src&&e.src.includes("youtube."))&&(null==e.parentNode||"STYLE"!==e.parentNode.nodeName.toUpperCase()&&"SCRIPT"!==e.parentNode.nodeName.toUpperCase()&&"IFRAME"!==e.parentNode.nodeName.toUpperCase())){if(this.siblingsAllowArray.includes(e.nodeName.toUpperCase())&&e.parentElement&&void 0===e.conveythis&&this.isTextNodeExists(e.parentElement)&&this.allowTranslateWholeTag(e.parentElement)&&this.shouldTranslateWholeTag(e.parentElement))return;if(!e.type||"submit"!==e.type&&"reset"!==e.type||this.apply(e,"value",t),e.closest("head")||(this.apply(e,"title",t),this.apply(e,"alt",t),this.apply(e,"placeholder",t)),"META"===e.nodeName.toUpperCase()&&(!e.name||"keywords"!==e.name&&"description"!==e.name||this.apply(e,"content",t)),+this.state.get("params.translate_media")&&"IMG"===e.nodeName.toUpperCase()){let s=e.getAttribute("src")||"";if(s.includes("?")){let t=e.getAttribute("data-src");t&&!t.includes("?")&&e.setAttribute("src",t)}let a=s.replace(/\?(.*)$/,"").split(".").pop();this.imageExt.includes(a)&&this.apply(e,"src",t)}if(this.state.get("params.translate_video")&&"IFRAME"===e.nodeName.toUpperCase()){e.getAttribute("src").includes("youtube")&&this.apply(e,"src",t)}if(this.state.get("params.translate_document")&&"A"===e.nodeName.toUpperCase()&&e.getAttribute("href")){let s=e.getAttribute("href").replace(/\?(.*)$/,"").split(".").pop();this.documentExt.includes(s)&&this.apply(e,"href",t)}if((this.state.get("php_plugin_cur_lang")||"subdirectory"===this.state.get("is_subdomain"))&&"A"===e.nodeName.toUpperCase()&&e.attributes.href&&!e.classList.contains("conveythis-no-translate")&&!s.includes(e.id)&&!e.classList.contains("material-icons-outlined")){let t=await this.indexedDBService.getItem("translations","conveythisLanguageId"),s=this.state.get("params.languages_total")[t].code2,a=e.attributes.href.nodeValue;if(!a.includes("wp-content"))if(a.includes(window.location.hostname)&&!a.includes("/"+s+"/")){if(e.hostname===window.location.hostname){let t=a.substring(0,a.indexOf(window.location.hostname)+window.location.hostname.length),n=a.substring(a.indexOf(window.location.hostname)+window.location.hostname.length);n=n.length>0?n:"/",e.attributes.href.nodeValue=t+"/"+s+n}}else"/"!==a[0]||a.includes("/"+s+"/")||(e.attributes.href.nodeValue="/"+s+a)}}for(;n--;)if(1===e.nodeType&&"SCRIPT"!==e.nodeName.toUpperCase()&&"STYLE"!==e.nodeName.toUpperCase()&&"NOSCRIPT"!==e.nodeName.toUpperCase()&&"IFRAME"!==e.nodeName.toUpperCase()&&(e.convey_translate||void 0===e.convey_translate))try{this.tree(a[n],t)}catch(e){console.error("Error in function tree: ",e)}}translateShopifyCart(e){if(this.state.get("is_shopify")){let t=this.state.get("params.languages_total")[e].code2,s=document.querySelectorAll('form[method="post"][action^="/checkout"], form[method="post"][action^="/cart"]');const a=function(e,t,s){let a=new URL(e,location.href);return a.searchParams.set(t,s),a.pathname+a.search};for(let e=0;e<s.length;e++){let n=s[e];if("subdomain"===this.state.get("params.is_subdomain")){let e=location.hostname.replace(t+".",""),s=location.protocol+"//"+e+a(n.getAttribute("action"),"locale",t);n.setAttribute("action",s)}else n.setAttribute("action",a(n.getAttribute("action"),"locale",t))}}}allowTranslateWholeTag(e){for(let t=0;t<e.childNodes.length;t++){let s=e.childNodes[t];if(this.siblingsAllowArray.includes(s.nodeName.toUpperCase())){if(s.outerHTML.match(/>(\s*[^<>\s]+[\s\S]*?)</g))return!0;if("BR"===s.nodeName.toUpperCase()&&e.innerHTML.match(/\s*[^<>\s]+\s*<br>\s*[^<>\s]+/gi))return!0}}return!1}shouldTranslateWholeTag(e){for(let t=0;t<e.childNodes.length;t++){let s=e.childNodes[t];if(this.siblingsAvoidArray.includes(s.nodeName.toUpperCase()))return!1}return!0}isTextNodeExists(e){for(let t=0;t<e.childNodes.length;t++){let s=e.childNodes[t];if("#text"===s.nodeName&&s.textContent.replace(/[\u200B-\u200D\uFEFF]/g,"").trim())return!0}return!1}apply(e,t,s){let a,n,r;try{if(e[t]&&e[t].replace(/[\u200B-\u200D\uFEFF]/g,"").trim()){if(/^[0-9,:\+\-\s\.\$â‚¬\(\)\%\/]*$/.test(e[t]))return;void 0===e.conveythis&&(e.conveythis={}),a=e[t],a=a.replace(/\<!--(.*?)\-->/g,""),a=a.trim(),void 0===e.conveythis[t]?(e.conveythis[t]=a,e[t].length!==e[t].trimLeft().length&&"textContent"===t&&(e.conveythis.spaceLeft=1),e[t].length!==e[t].trimRight().length&&"textContent"===t&&(e.conveythis.spaceRight=1)):a=e.conveythis[t];let s=this.state.get("segments");void 0!==s&&"object"==typeof s||(s=[]),-1===s.indexOf(a)&&s.push(a),this.state.set("segments",s)}}catch(e){console.error("Error in function apply: ",e)}if(s&&void 0!==e.conveythis&&void 0!==e.conveythis[t]){r=e.conveythis[t].trim();let s=this.state.get("translations");if(s&&s.length>0&&r)for(let a of s)a.translate_text&&a.source_text===r&&(n=!0,e[t]=e.conveythis[t].replace(a.source_text,a.translate_text),this.addSpacing(e),"IMG"===e.nodeName.toUpperCase()&&(e.srcset&&e.src===a.translate_text&&a.source_text!==a.translate_text?(e["convey-image-srcset"]=e.srcset,e.srcset=e.src):e["convey-image-srcset"]&&e.src===a.source_text&&(e.srcset=e["convey-image-srcset"])));void 0===n&&(e[t]=e.conveythis[t],this.addSpacing(e),e["convey-image-srcset"]&&(e.srcset=e["convey-image-srcset"]))}}addSpacing(e){e.textContent.trim()&&(e.conveythis.spaceLeft&&(e.textContent=" "+e.textContent),e.conveythis.spaceRight&&(e.textContent+=" "))}removeUrlLocale(){try{if(!location.href.includes("conveythis.com/dashboard/translation/visual")){const e=new URLSearchParams(location.search);e.delete("locale");Array.from(e).length>0?window.history.replaceState({},"",`${location.pathname}?${e}${location.hash}`):window.history.replaceState({},"",`${location.pathname}${location.hash}`)}}catch(e){console.log(e)}}languageChangedEvent(e){try{let t=new CustomEvent("conveythis-language-changed",{detail:{language:e}});document.dispatchEvent(t)}catch(e){console.log(e)}}async hasLocalCache(e,t){return!!await this.indexedDBService.getItem("translations","translation_"+e+"_"+t)}async readFromLocalCache(e,t){let s=await this.indexedDBService.getItem("translations","translation_"+e+"_"+t);if(!s)return!1;try{return JSON.parse(s)}catch(e){return console.error("Error parse in JSON param in function readFromLocalCache: ",e),[]}}async sendTranslationRequest(e,t,s,a,n=1){e&&this.showLoadingAnimation(!0);let r=location.href.replace(`/${t}/`,"/");"subdomain"===this.state.get("params.is_subdomain")&&(r=location.href.replace(`//${t}.`,"//"));const i={referrer:r,target_language:t,segments:s,api_key:this.state.get("api_key"),signature:"RWRmsLEPtA7hqNMbe6eGFLWtt5gXgQ9r"};try{const e=await this.apiService.post("/website/translate/",i);e&&e.length>0&&a(e,"success")}catch(e){console.error("Translation request failed:",e),a(null,"error")}finally{e&&this.showLoadingAnimation(!1)}}async saveToLocalCache(e,t,s){const a={key:"translation_"+e+"_"+t,value:JSON.stringify(s)};await this.indexedDBService.addItem("translations",a)}setUrlLocale(e){try{if(!location.href.includes("conveythis.com/dashboard/translation/visual")&&!["subdirectory","subdomain"].includes(this.state.get("params.is_subdomain"))){const t=new URLSearchParams(location.search);t.set("locale",e),window.history.replaceState({},"",`${location.pathname}?${t}${location.hash}`)}}catch(e){console.log(e)}}showLoadingAnimation(e){try{let t=document.querySelectorAll(".conveythis-language-arrow");const s=this;for(let a of t)e?(a.style.width="30px",a.style.marginLeft="0px",a.style.webkitMask="url('"+s.state.get("cdnUrlImage")+"/spinner.svg') no-repeat 50% 50%",a.style.mask="url('"+s.state.get("cdnUrlImage")+"/spinner.svg') no-repeat 50% 50%",a.style.webkitMaskSize="contain",a.style.maskSize="contain"):(a.style.width="10px",a.style.marginLeft="10px",s.state.get("sprite")?(a.style.webkitMask="url('"+s.state.get("cdnUrlImage")+"/right-thin-chevron.svg') no-repeat 50% 50%",a.style.mask="url('"+s.state.get("cdnUrlImage")+"/right-thin-chevron.svg') no-repeat 50% 50%"):(a.style.webkitMask="url('"+s.state.get("cdnUrlFlag")+"/right-thin-chevron.svg') no-repeat 50% 50%",a.style.mask="url('"+s.state.get("cdnUrlFlag")+"/right-thin-chevron.svg') no-repeat 50% 50%"),a.style.webkitMaskSize="contain",a.style.maskSize="contain")}catch(e){console.log(e)}}}},703:(e,t,s)=>{const a=s(432),n=s(733),r=s(961);e.exports=class{constructor(e,t){this.state=e,this.observer=t,this.indexedDBService=new a,this.translateClass=new n(this.state,this.observer),this.drawButtonService=new r(this.observer,this.state,this.translateClass)}async start(){if(("subdomain"===this.state.get("params.is_subdomain")&&location.href.includes("conveythis.com/dashboard/translation/visual")||"subdirectory"===this.state.get("params.is_subdomain")&&location.href.includes("conveythis.com/dashboard/translation/visual"))&&this.state.set("params.is_subdomain",!1),"subdomain"===this.state.get("params.is_subdomain")){let e=location.hostname.split(".").shift();if(e){let t=this.findLanguageId(e);if(t){const e={key:"conveythisLanguageId",value:t};await this.indexedDBService.updateItem("translations",e),this.drawButtonService.render(t),this.translateClass.translateShopifyCart(t)}else{let e=await this.indexedDBService.getItem("translations","conveythisLanguageId");if(this.state.get("params.auto_translate")&&!e){const e=this.getBrowserLanguageId();if(e){const t=this.state.get("params.languages_total")[e]?.code2;if(t&&e!==this.state.get("params.source_language_id")){const e={key:"conveythisLanguageId",value:this.state.get("params.source_language_id")};return await this.indexedDBService.addItem("translations",e),void(location.hostname=t+"."+location.hostname)}}}const t={key:"conveythisLanguageId",value:this.state.get("params.source_language_id")};await this.indexedDBService.addItem("translations",t),this.drawButtonService.render(this.state.get("params.source_language_id"))}this.state.get("params.dynamic_translation")&&this.translate()}}else if(this.state.get("php_plugin_cur_lang")&&!location.href.includes("conveythis.com/dashboard/translation/visual/")){const e={key:"conveythisLanguageId",value:this.state.get("php_plugin_cur_lang")};await this.indexedDBService.addItem("translations",e),this.drawButtonService.render(this.state.get("php_plugin_cur_lang"))}else if("subdirectory"===this.state.get("params.is_subdomain")){const e={key:"conveythisLanguageId",value:this.state.get("current_language_id")};await this.indexedDBService.addItem("translations",e),this.drawButtonService.render(this.state.get("current_language_id")),this.state.get("params.dynamic_translation")&&this.translate()}else this.state.get("params.is_subdomain"),this.drawButtonService.render(),this.translate();this.setHrefLangs()}async translate(){try{let e=await this.indexedDBService.getItem("translations","conveythisLanguageId");if(!e){let t=this.state.get("params.default_language_id");const s={key:"conveythisLanguageId",value:t};await this.indexedDBService.updateItem("translations",s),e=t}const t=new URLSearchParams(location.search).get("locale");if(t){let e;for(let s of this.state.get("params.languages_list")){if(this.state.get("params.languages_total")[s.id].code2===t){e=s.id;break}}e&&(this.drawButtonService.render(e),this.translateClass.translator(e))}else if(e>0){let t;for(let s of this.state.get("params.languages_list"))if(+s.id==+e){t=e;break}t&&(this.drawButtonService.render(t),this.translateClass.translator(t))}else if(this.state.get("params.auto_translate")){const e=this.getBrowserLanguageId();e&&(this.drawButtonService.render(e),this.translateClass.translator(e))}}catch(e){console.error("An error occurred:",e)}}getBrowserLanguageId(){let e=navigator.languages;if(e){let t=[];const s=this;for(let a of e){let e=s.findLanguageId(a.substring(0,2));e&&t.push(e)}let a;for(let e of t){for(let t of this.state.get("params.languages_list"))if(t.id===e){a=e;break}if(a)return a}}return null}findLanguageId(e){for(let t in this.state.get("params.languages_total"))if(this.state.get("params.languages_total")[t].code2===e)return t;return null}setHrefLangs(){try{if(!document.head.querySelector("link[hreflang]")){const e=this.state.get("params.languages_list"),t=this.state.get("params.languages_total");for(let s of e){let e,a={};if(a=t[+s.id]||{},+s.id==+this.state.get("params.source_language_id"))e=location.origin+location.pathname,this.appendHrefLangToHead(e,"x-default");else if("subdomain"===this.state.get("params.is_subdomain"))e=location.protocol+"//"+a.code2+"."+location.hostname+location.pathname;else if("subdirectory"===this.state.get("params.is_subdomain")){const s=t[this.state.get("current_language_id")].code2||"";let n=location.pathname.replace("/"+s+"/","/");e=location.protocol+"//"+location.hostname+"/"+a.code2+n}else e=location.origin+location.pathname+"?locale="+a.code2;this.appendHrefLangToHead(e,a.code2)}}}catch(e){console.error("Error in method setHrefLangs: ",e)}}appendHrefLangToHead(e,t){let s=document.createElement("link");s.rel="alternate",s.href=e,s.hreflang=t,document.head.appendChild(s)}}},789:(e,t,s)=>{const a=s(425);e.exports=class{constructor(){this.apiPrimary="api-proxy.conveythis.com",this.apiFallback="api.conveythis.com",this.axiosInstancePrimary=a.create({baseURL:"https://"+this.apiPrimary}),this.axiosInstanceFallback=a.create({baseURL:"https://"+this.apiFallback}),this.requestCounter=0,this.requestLimit=500,this.isRequestPaused=!1}async get(e,t={}){const s={headers:{"Content-Type":"application/json"},timeout:5e3,...t};try{const t=await this.axiosInstancePrimary.get(e,s);if(200===t.status&&"object"==typeof t.data.data)return t.data.data;console.error("Failed request",t.status,t.data.status)}catch(t){console.warn("Request to API_PROXY_CONVEYTHIS failed. Retrying with API_CONVEYTHIS.",t);const a=await this.axiosInstanceFallback.get(e,s);if(200===a.status)return a.data.data;console.error("Failed request",a.status,a.data.status)}}async post(e,t={},s={},a=1){const n={headers:{"Content-Type":"text/plain"},timeout:5e4,...s};try{const s=await this.axiosInstancePrimary.post(e,t,n);return 200===s.status?s.data.data:(console.error(`Final attempt failed with status: ${s.status}`),null)}catch(e){return console.error("Final attempt failed completely:",e),console.error("Failed config:",n),null}if(this.requestCounter>=this.requestLimit&&(this.isRequestPaused=!0,console.warn("Pause, waiting for permission to send more requests"),await new Promise((e=>setTimeout(e,3e3))),this.isRequestPaused=!1,this.requestCounter=0),t.api_key)try{const s=await this.axiosInstancePrimary.post(e,t,n);if(200===s.status)return s.data.data;throw new Error(`Failed request with status: ${s.status}`)}catch(s){return console.warn(`Request to ${this.apiPrimary} failed, attempt ${a}. Error: ${s}`),a<3?(console.warn("Retrying..."),await this.post(e,t,n,a+1)):(console.error("Switching to fallback API"),this.fallbackPost(e,t,n))}finally{this.requestCounter++}else console.error("ConveyThis: API key not found")}async fallbackPost(e,t,s){try{const a=await this.axiosInstancePrimary.post(e,t,s);return 200===a.status?a.data.data:(console.error(`Final attempt failed with status: ${a.status}`),null)}catch(e){return console.error("Final attempt failed completely:",e),null}}async _post(e,t={},s={"Content-Type":"application/json"}){try{const a=await this.axiosInstancePrimary.post(e,t,s);if(200===a.status)return a.data.data;console.error("Failed request",a.status,a.data.status)}catch(a){console.warn("Request to API_PROXY_CONVEYTHIS failed. Retrying with API_CONVEYTHIS.",a);const n=await this.axiosInstanceFallback.post(e,t,s);if(200===n.status)return n.data.data;console.error("Failed request",n.status,n.data.status)}}}},961:(e,t,s)=>{s(733);const a=s(432);e.exports=class{constructor(e,t,s){this.translateClass=s,this.indexedDBService=new a,this.observer=e,this.state=t,this.defaultStyle={style_background_color:"#ffffff",style_border_color:"#e0e0e0",style_hover_color:"#f6f6f6",style_text_color:"#000000",style_widget:"dropdown",iconBorderRadius:"50%",el_show_languages:null,current_language_title:"",el_wrapper:null,el_custom:null,el_arrow:null,cur_el_arrow:null,el_main:null,el_current_language_wrapper:null,el_other_languages:null,el_conveythis:null,languageHeight:36,style_flag:"rect",iconWidth:30,iconHeight:null,style_text:"full-text",buttonWidth:0,titleWidth:0,iconUrl:null,language_wrapper_id:"conveythis-widget-current-language-wrapper",el_wrapper_outer:null},this.position={us:"center 24.392%",za:"left 10.4269%","es-pv":"center 54.999%","es-ct":"center 54.77%",eo:"center 55.2%",ha:"center 55.44%","gb-sct":"center 55.66%","gb-wls":"center 55.88%",dz:"center 0.2287%",ao:"center 0.4524%",bj:"center 0.6721%",bw:"center 0.8958%",bf:"center 1.1162%",bi:"center 1.3379%",cm:"center 1.5589%",cv:"center 1.7805%",cf:"center 2.0047%",td:"center 2.2247%",cd:"left 2.4467%",dj:"left 2.6674%",eg:"center 2.8931%",gq:"center 3.1125%",er:"left 3.3325%",et:"center 3.5542%",ga:"center 3.7759%",gm:"center 4.0015%",gh:"center 4.2229%",gn:"center 4.441%",gw:"left 4.66663%",ci:"center 4.8844%",ke:"center 5.1061%",ls:"center 5.3298%",lr:"left 5.5495%",ly:"center 5.7712%",mg:"center 5.994%",mw:"center 6.2156%",mu:"center 6.8805%",yt:"center 7.1038%",ma:"center 7.3231%",mz:"left 7.5448%",na:"left 7.7661%",ne:"center 7.98937%",ng:"center 8.2099%",cg:"center 8.4316%",re:"center 8.6533%",rw:"right 8.875%",sh:"center 9.0967%",st:"center 9.32237%",sn:"center 9.5426%",sc:"left 9.7628%",sl:"center 9.9845%",so:"center 10.2052%",ss:"left 10.6486%",sd:"center 10.8703%",sr:"center 11.0945%",sz:"center 11.3135%",tg:"left 11.5354%",tn:"center 11.7593%",ug:"center 11.9799%",tz:"center 12.2005%",eh:"center 12.4222%",ye:"center 12.644%",zm:"center 12.8664%",zw:"left 13.0873%",ai:"center 13.309%",ag:"center 13.5307%",ar:"center 13.7524%",aw:"left 13.9741%",bs:"left 14.1958%",bb:"center 14.4175%",bq:"center 14.6415%",ml:"center 6.4363%",mr:"center 6.658%",bz:"center 14.8609%",bm:"center 15.0826%",bo:"center 15.306%",vg:"center 15.528%",br:"center 15.7496%",ca:"center 15.9694%",ky:"center 16.1911%",cl:"left 16.4128%",co:"left 16.6345%",km:"center 16.8562%",cr:"center 17.0779%",cu:"left 17.2996%",cw:"center 17.5213%",dm:"center 17.743%",do:"center 17.968%",ec:"center 18.1864%",sv:"center 18.4081%",fk:"center 18.6298%",gf:"center 18.8515%",gl:"left 19.0732%",gd:"center 19.2987%",gp:"center 19.518%",gt:"center 19.7383%",gy:"center 19.96%",ht:"center 20.1817%",hn:"center 20.4034%",jm:"center 20.6241%",mq:"center 20.8468%",mx:"center 21.0685%",ms:"center 21.2902%",ni:"center 21.5119%",pa:"center 21.7336%",py:"center 21.9553%",pe:"center 22.177%",pr:"left 22.4002%",bl:"center 22.6204%",kn:"center 22.8421%",lc:"center 23.0638%",pm:"center 23.2855%",vc:"center 23.5072%",sx:"left 23.732%",tt:"center 23.9506%",tc:"center 24.1723%",vi:"center 24.6157%",uy:"left 24.8374%",ve:"center 25.0591%",ab:"center 25.279%",af:"center 25.5025%",az:"center 25.7242%",bd:"center 25.9459%",bt:"center 26.1676%",bn:"center 26.3885%",kh:"center 26.611%",cn:"left 26.8327%",ge:"center 27.0544%",hk:"center 27.2761%",in:"center 27.4978%",id:"center 27.7195%",jp:"center 27.9412%",kz:"center 28.1615%",la:"center 28.3846%",mo:"center 28.6063%",my:"center 28.829%",mv:"center 29.0497%",mn:"left 29.2714%",mm:"center 29.4931%",np:"left 29.7148%",kp:"left 29.9365%",mp:"center 30.1582%",pw:"center 30.3799%",pg:"center 30.6016%",ph:"left 30.8233%",sg:"left 31.045%",kr:"center 31.2667%",lk:"right 31.4884%",tw:"left 31.7101%",tj:"center 31.9318%",th:"center 32.1535%",tl:"left 32.3752%",tm:"center 32.5969%",vn:"center 32.8186%",ax:"center 33.0403%",al:"center 33.25975%",ad:"center 33.4837%",am:"center 33.7054%",at:"center 33.9271%",by:"left 34.1488%",be:"center 34.3705%",ba:"center 34.5922%",bg:"center 34.8139%",hr:"center 35.0356%",cy:"center 35.2555%",cz:"left 35.479%",dk:"center 35.7007%",ee:"center 35.9224%",fo:"center 36.1441%",fi:"center 36.3658%",fr:"center 36.5875%",de:"center 36.8092%",gi:"center 37.0309%",gr:"left 37.2526%",gg:"center 37.4743%",hu:"center 37.696%",is:"center 37.9177%",ie:"center 38.1394%",im:"center 38.3611%",it:"center 38.5828%",je:"center 38.8045%",xk:"center 39.0262%",lv:"center 39.2479%",li:"left 39.4696%",lt:"center 39.6913%",lu:"center 39.913%",mt:"left 40.1347%",md:"center 40.3564%",mc:"center 40.5781%",me:"center 40.7998%",nl:"center 41.0215%",mk:"center 41.2432%",no:"center 41.4649%",pl:"center 41.6866%",pt:"center 41.9083%",ro:"center 42.13%",ru:"center 42.3517%",sm:"center 42.5734%",rs:"center 42.7951%",sk:"center 43.0168%",si:"center 43.2385%",es:"left 43.4602%",se:"center 43.6819%",ch:"center 43.9036%",tr:"center 44.1253%",ua:"center 44.347%",gb:"center 44.5687%",va:"right 44.7904%",bh:"center 45.0121%",ir:"center 45.2338%",iq:"center 45.4555%",il:"center 45.6772%",kw:"left 45.897%",jo:"left 46.1206%",kg:"center 46.3423%",lb:"center 46.561%",ps:"center 47.2291%",qa:"center 47.4508%",sa:"center 47.6725%",sy:"center 47.8942%",ae:"center 48.1159%",uz:"left 48.3376%",as:"right 48.5593%",au:"center 48.781%",cx:"center 49.002%",cc:"center 49.2244%",ck:"center 49.4445%",fj:"center 49.6678%",ki:"center 50.3329%",mh:"left 50.5546%",fm:"center 50.7763%",nc:"center 50.998%",nz:"center 51.2197%",nr:"left 51.4414%",nu:"center 51.6631%",nf:"center 51.8848%",ws:"left 52.1065%",sb:"left 52.3282%",tk:"center 52.5499%",to:"left 52.7716%",tv:"center 52.9933%",vu:"left 53.215%",wf:"center 53.4385%",aq:"center 53.6584%",eu:"center 53.875%",jr:"center 54.099%",pf:"center 49.8895%",gu:"center 50.1112%",oly:"center 54.32%",un:"center 54.54%",om:"left 46.7857%",pk:"center 47.0074%"},this.styleWrapperFunction={general:(e,t)=>{if(this.defaultStyle.el_custom)this.state.get("preview")||(e.style.position="absolute"),+this.state.get("params.positionTop")?"popup"!==this.defaultStyle.style_widget?e.style.top="0px":t.style.top="0px":(e.style.bottom="0px","popup"===this.defaultStyle.style_widget&&(t.style.bottom="0px")),this.defaultStyle.el_wrapper_outer=document.createElement("div"),this.defaultStyle.el_wrapper_outer.appendChild(e),"popup"===this.defaultStyle.style_widget&&this.defaultStyle.el_wrapper_outer.appendChild(t),this.defaultStyle.el_wrapper_outer.style.position="relative",this.defaultStyle.el_wrapper_outer.style.display="inline-block","popup"===this.defaultStyle.style_widget?this.defaultStyle.el_wrapper_outer.style.height=this.defaultStyle.languageHeight+"px":this.defaultStyle.el_wrapper_outer.style.height="36px",this.defaultStyle.el_wrapper_outer.style.verticalAlign="middle",this.defaultStyle.el_wrapper_outer.style.cssFloat="left",this.defaultStyle.el_wrapper_outer.style.direction="ltr",this.defaultStyle.el_custom.appendChild(this.defaultStyle.el_wrapper_outer);else{if(e.style.zIndex="999999",e.style.position="fixed",+this.state.get("params.positionLeft"))"popup"===this.defaultStyle.style_widget?t.style.left=this.state.get("params.positionLeft")+"px":e.style.left=this.state.get("params.positionLeft")+"px";else{let s=+this.state.get("params.positionRight")?this.state.get("params.positionRight"):0;"popup"===this.defaultStyle.style_widget?t.style.right=s+"px":e.style.right=s+"px"}if(+this.state.get("params.positionTop"))"popup"===this.defaultStyle.style_widget?t.style.top=this.state.get("params.positionTop")+"px":e.style.top=this.state.get("params.positionTop")+"px";else{let s=+this.state.get("params.positionBottom")?this.state.get("params.positionBottom"):0;"popup"===this.defaultStyle.style_widget?t.style.bottom=s+"px":e.style.bottom=s+"px"}document.body.appendChild(e),"popup"===this.defaultStyle.style_widget&&document.body.appendChild(t)}},dropdown_and_list:(e,t)=>{e.style.display="block",e.style.padding="0px",e.style.margin="0px",e.style.textAlign="center",e.style.zIndex="2147483647",e.style.direction="ltr",e.convey_translate=!1,t.style.border="1px solid "+this.defaultStyle.style_border_color},popup:(e,t)=>{if(t.style.border="1px solid "+this.defaultStyle.style_border_color,t.style.height="36px",t.style.padding="5px",this.state.get("preview")?e.style.position="fixed":e.style.position="absolute",e.style.top="0px",e.style.left="0px",e.style.width="100%",e.style.height="100vh",e.style.display="none",e.style.alignItems="center",e.style.justifyContent="center",e.style.backgroundColor="rgba(0,0,0,0.70)",e.onclick=function(){e.style.display="none"},t.id=this.defaultStyle.language_wrapper_id,this.state.get("preview")||(t.style.position="fixed"),t.style.cursor="pointer",t.style.backgroundColor=this.defaultStyle.style_background_color,t.style.whiteSpace="nowrap",t.style.padding="0px",t.style.margin="0px",t.style.overflow="hidden",t.style.display="flex",t.style.flexDirection="row-reverse",t.style.zIndex="999998",this.state.get("params.style_corner_type")&&"cir"===this.state.get("params.style_corner_type")&&(t.style.borderRadius="12px"),t.onclick=function(t){"none"!==e.style.display?e.style.display="none":e.style.display="flex"},this.defaultStyle.el_show_languages&&this.defaultStyle.el_show_languages.length){let e;t.style.display="none";const s=this.state.get("params.languages_total");for(let t in s)s[t].active&&(e="full-text-native"===this.defaultStyle.style_text?s[t].title:s[t].title_native);for(let s of this.defaultStyle.el_show_languages){s.onclick=t.onclick;let a=s.querySelector(".language_title");a&&(a.innerText=e)}}},list:(e,t)=>{},dropdown:(e,t)=>{}}}init(e,t){const s=this.state.get("params.style_background_color");s&&this.defaultStyle.style_background_color!==s&&(this.defaultStyle.style_background_color=s);const a=this.state.get("params.style_border_color");a&&this.defaultStyle.style_border_color!==a&&(this.defaultStyle.style_border_color=a);const n=this.state.get("params.style_hover_color");n&&this.defaultStyle.style_hover_color!==n&&(this.defaultStyle.style_hover_color=n);const r=this.state.get("params.style_text_color");r&&this.defaultStyle.style_text_color!==r&&(this.defaultStyle.style_text_color=r);const i=this.state.get("params.style_widget");i&&this.defaultStyle.style_widget!==i&&(this.defaultStyle.style_widget=i),"popup"!==this.defaultStyle.style_widget||this.state.get("preview")||(this.defaultStyle.languageHeight=20,this.defaultStyle.el_show_languages=document.querySelectorAll(".conveythis_show_languages_btn"));const o=this.state.get("params.style_flag");o&&this.defaultStyle.style_flag!==o&&(this.defaultStyle.style_flag=o);const l=this.state.get("params.style_text");l&&this.defaultStyle.text!==l&&(this.defaultStyle.style_text=l),this.styleIcon(),this.styleWrapper(e),this.styleMain(),this.setLanguage(t),this.otherLanguages(),this.addLanguageInWidget()}styleIcon(){-1!==["rect","sqr"].indexOf(this.defaultStyle.style_flag)&&(this.defaultStyle.iconBorderRadius="none"),"rect"===this.defaultStyle.style_flag?(this.defaultStyle.iconWidth=30,this.defaultStyle.iconHeight=this.state.get("sprite")?20:null,"full-text"===this.defaultStyle.style_text&&(this.defaultStyle.buttonWidth=188,this.defaultStyle.titleWidth=86),"full-text-native"===this.defaultStyle.style_text&&(this.defaultStyle.buttonWidth=188,this.defaultStyle.titleWidth=86),"short-text"===this.defaultStyle.style_text&&(this.defaultStyle.buttonWidth=128,this.defaultStyle.titleWidth=56),"short-text-alfa-2"===this.defaultStyle.style_text&&(this.defaultStyle.buttonWidth=100,this.defaultStyle.titleWidth=56),"without-text"===this.defaultStyle.style_text&&(this.defaultStyle.buttonWidth=70)):"sqr"===this.defaultStyle.style_flag||"cir"===this.defaultStyle.style_flag?(this.defaultStyle.iconWidth=this.state.get("sprite")?24:22,this.defaultStyle.iconHeight=this.state.get("sprite")?24:null,"full-text"===this.defaultStyle.style_text&&(this.defaultStyle.buttonWidth=178,this.defaultStyle.titleWidth=86),"full-text-native"===this.defaultStyle.style_text&&(this.defaultStyle.buttonWidth=178,this.defaultStyle.titleWidth=86),"short-text"===this.defaultStyle.style_text&&(this.defaultStyle.buttonWidth=112,this.defaultStyle.titleWidth=36),"short-text-alfa-2"===this.defaultStyle.style_text&&(this.defaultStyle.buttonWidth=100,this.defaultStyle.titleWidth=36),"without-text"===this.defaultStyle.style_text&&(this.defaultStyle.buttonWidth=70)):"without-flag"===this.defaultStyle.style_flag&&(this.defaultStyle.iconWidth=this.state.get("sprite")?24:22,"full-text"===this.defaultStyle.style_text&&(this.defaultStyle.buttonWidth=132,this.defaultStyle.titleWidth=90),"full-text-native"===this.defaultStyle.style_text&&(this.defaultStyle.buttonWidth=132,this.defaultStyle.titleWidth=90),"short-text"===this.defaultStyle.style_text&&(this.defaultStyle.buttonWidth=82,this.defaultStyle.titleWidth=40),"short-text-alfa-2"===this.defaultStyle.style_text&&(this.defaultStyle.buttonWidth=82,this.defaultStyle.titleWidth=40),"without-text"===this.defaultStyle.style_text&&(this.defaultStyle.buttonWidth=70)),this.defaultStyle.iconUrl=this.state.get("sprite")?null:"flags/svg",this.state.get("sprite")||("rect"===this.defaultStyle.style_flag?this.defaultStyle.iconUrl="flags/v3/rectangular":"sqr"!==this.defaultStyle.style_flag&&"cir"!==this.defaultStyle.style_flag||(this.defaultStyle.iconUrl="flags/svg"))}styleWrapper(e){this.defaultStyle.el_wrapper=document.getElementById(e),this.defaultStyle.el_wrapper?(this.defaultStyle.el_current_language_wrapper=document.getElementById(this.defaultStyle.language_wrapper_id),this.defaultStyle.el_current_language_wrapper&&(this.defaultStyle.el_current_language_wrapper.innerHTML=""),this.defaultStyle.el_wrapper.innerHTML=""):(this.state.get("params.selector")&&this.state.get("preview")&&(this.defaultStyle.el_custom=document.getElementById(this.state.get("params.selector"))),this.state.get("params.styleSelectorId")&&!this.state.get("preview")&&(this.defaultStyle.el_custom=document.getElementById(this.state.get("params.styleSelectorId"))),this.defaultStyle.el_wrapper=document.createElement("div"),this.defaultStyle.el_wrapper.id=e,this.defaultStyle.el_wrapper.classList.add("conveythis-no-translate"),this.defaultStyle.el_current_language_wrapper=document.createElement("div"),this.defaultStyle.el_current_language_wrapper.classList.add(this.defaultStyle.language_wrapper_id),"popup"===this.defaultStyle.style_widget?this.styleWrapperFunction.popup(this.defaultStyle.el_wrapper,this.defaultStyle.el_current_language_wrapper):"dropdown"===this.defaultStyle.style_widget?(this.styleWrapperFunction.dropdown_and_list(this.defaultStyle.el_wrapper,this.defaultStyle.el_current_language_wrapper),this.styleWrapperFunction.dropdown(this.defaultStyle.el_wrapper,this.defaultStyle.el_current_language_wrapper)):"list"===this.defaultStyle.style_widget?(this.styleWrapperFunction.dropdown_and_list(this.defaultStyle.el_wrapper,this.defaultStyle.el_current_language_wrapper),this.styleWrapperFunction.list(this.defaultStyle.el_wrapper,this.defaultStyle.el_current_language_wrapper)):console.error("Not selected style_widget"),this.styleWrapperFunction.general(this.defaultStyle.el_wrapper,this.defaultStyle.el_current_language_wrapper))}styleMain(){this.defaultStyle.el_main=document.createElement("div"),this.defaultStyle.el_main.classList.add("conveythis-widget-main"),this.defaultStyle.el_main.style.cursor="pointer",this.defaultStyle.el_main.style.whiteSpace="nowrap",this.defaultStyle.el_main.style.padding="0px",this.defaultStyle.el_main.style.margin="0px",this.defaultStyle.el_main.style.overflow="hidden","popup"===this.defaultStyle.style_widget?(this.defaultStyle.el_main.style.position="absolute",this.defaultStyle.el_main.style.height="calc(100% - 50px)",this.defaultStyle.el_main.style.boxSizing="border-box",this.defaultStyle.el_main.style.alignItems="center"):"dropdown"===this.defaultStyle.style_widget?(this.defaultStyle.el_main.style.border="1px solid "+this.defaultStyle.style_border_color,this.defaultStyle.el_main.style.width=this.defaultStyle.buttonWidth+2+"px",this.defaultStyle.el_main.style.backgroundColor=this.defaultStyle.style_background_color):"list"===this.defaultStyle.style_widget?(this.defaultStyle.el_main.style.display="flex",this.defaultStyle.el_main.style.alignItems="center",this.defaultStyle.el_main.style.boxSizing="border-box",this.defaultStyle.el_main.style.flexDirection="row-reverse"):console.error("Not selected style_widget"),this.state.get("params.style_corner_type")&&"cir"===this.state.get("params.style_corner_type")&&(this.defaultStyle.el_main.style.borderRadius="12px"),this.defaultStyle.el_wrapper.appendChild(this.defaultStyle.el_main)}setLanguage(e){if(!e){let t=this.state.get("params.source_language_id");e=+t>0?t:0}if(e){let t=!1;for(let s=0;s<this.state.get("params.languages_list").length;s++)if(this.state.get("params.languages_list")[s].active=!1,+this.state.get("params.languages_list")[s].id==+e){this.state.get("params.languages_list")[s].active=!0,t=!0;const a=this.state.get("params.languages_total")[e];if(this.defaultStyle.current_language_title="full-text-native"===this.defaultStyle.style_text?a.title_native:a.title,this.defaultStyle.el_show_languages&&this.defaultStyle.el_show_languages.length>0)for(let e of this.defaultStyle.el_show_languages){e.onclick=this.defaultStyle.el_current_language_wrapper.onclick;let t=e.querySelector(".language_title");t&&(t.innerText=this.defaultStyle.current_language_title)}}if(!t){let t=this.state.get("params.languages_list");t.length>0?t[t.length-1].active=!0:t=[{id:e,active:!0}]}"1"===this.state.get("params.languages_total")[e].right_to_left?(document.body.style.textAlign="right",this.setDirection("rtl")):("right"===document.body.style.textAlign&&(document.body.style.textAlign=null),"rtl"!==document.body.dir&&this.setDirection("ltr"))}}otherLanguages(){if(this.defaultStyle.el_other_languages=document.createElement("div"),"popup"!==this.defaultStyle.style_widget&&("dropdown"===this.defaultStyle.style_widget?this.defaultStyle.el_other_languages.style.display="none":(this.defaultStyle.el_other_languages.style.display="flex",this.defaultStyle.el_other_languages.style.flexDirection="row-reverse")),this.defaultStyle.el_other_languages.classList.add("conveythis-widget-languages"),this.defaultStyle.el_other_languages.id="language-list","popup"!==this.defaultStyle.style_widget)this.defaultStyle.el_current_language_wrapper=document.createElement("div"),this.defaultStyle.el_current_language_wrapper.classList.add("conveythis-widget-current-language-wrapper"),this.defaultStyle.el_current_language_wrapper.setAttribute("aria-controls","language-list"),this.defaultStyle.el_current_language_wrapper.setAttribute("aria-expanded","false");else{this.defaultStyle.el_other_languages.style.maxWidth="1040px",this.defaultStyle.el_other_languages.style.maxHeight="482px",this.defaultStyle.el_other_languages.style.borderRadius="4px",this.defaultStyle.el_other_languages.style.border="1px solid #cecece",this.defaultStyle.el_other_languages.style.display="flex",this.defaultStyle.el_other_languages.style.padding="50px 30px 30px 30px",this.defaultStyle.el_other_languages.style.backgroundColor="#fff",this.defaultStyle.el_other_languages.style.margin="15px",this.defaultStyle.el_other_languages.style.flexWrap="wrap",this.defaultStyle.el_other_languages.style.overflowY="auto",this.defaultStyle.el_other_languages.style.overflowX="hidden",this.defaultStyle.el_other_languages.style.flexDirection="row",this.defaultStyle.el_other_languages.style.boxSizing="border-box",this.defaultStyle.el_other_languages.style.position="relative",this.defaultStyle.el_other_languages.onclick=function(e){e.stopPropagation()};let e=document.createElement("div");e.style.width="100%",e.style.position="absolute",e.style.top="12px",e.style.left="0",e.style.color="#000",e.style.fontSize="22px",e.style.textAlign="center",e.innerText="Select a Language",this.defaultStyle.el_other_languages.appendChild(e)}+this.state.get("params.positionTop")&&"dropdown"===this.defaultStyle.style_widget?(this.defaultStyle.el_main.appendChild(this.defaultStyle.el_current_language_wrapper),this.defaultStyle.el_main.appendChild(this.defaultStyle.el_other_languages)):(this.defaultStyle.el_main.appendChild(this.defaultStyle.el_other_languages),"popup"!==this.defaultStyle.style_widget&&this.defaultStyle.el_main.appendChild(this.defaultStyle.el_current_language_wrapper)),setTimeout((()=>{this.state.get("params.hide_conveythis_logo")||this.state.get("preview")?!this.state.get("params.hide_conveythis_logo")&&this.state.get("preview")&&"popup"!=this.defaultStyle.style_widget&&this.addConveythisLogoInWidget(!0):"popup"!=this.defaultStyle.style_widget&&this.addConveythisLogoInWidget(!1)}),10)}addConveythisLogoInWidget(e=!1){e?(this.el_conveythis||(this.el_conveythis=document.createElement("div"),this.el_conveythis.style.whiteSpace="normal",this.el_conveythis.style.textAlign="center",this.el_conveythis.style.fontSize="12px","without-text"!==this.defaultStyle.style_text&&(this.el_conveythis.style.padding="10px"),this.el_conveythis.innerHTML='<span style="color: #8e8e8e;">Powered by </span><a href="https://www.conveythis.com/?utm_source=conveythis_drop_down_btn" alt="conveythis.com" style="color: #489fd2;">ConveyThis</a>'),+this.state.get("params.positionTop")?(this.el_conveythis.style.borderTop="1px solid"+this.defaultStyle.style_border_color,this.defaultStyle.el_other_languages.childNodes.length>0&&this.defaultStyle.el_other_languages.appendChild(this.el_conveythis)):(this.el_conveythis.style.borderBottom="1px solid"+this.defaultStyle.style_border_color,this.defaultStyle.el_other_languages.childNodes.length>0&&this.defaultStyle.el_other_languages.insertBefore(this.el_conveythis,this.defaultStyle.el_other_languages.childNodes[0]))):(this.el_conveythis||(this.el_conveythis=document.createElement("div"),"dropdown"==this.defaultStyle.style_widget?(this.el_conveythis.style.whiteSpace="normal",this.el_conveythis.style.fontSize="12px"):(this.el_conveythis.style.fontSize="10px",this.el_conveythis.style.paddingTop="12px"),this.el_conveythis.style.textAlign="center","without-text"!==this.defaultStyle.style_text&&("dropdown"==this.defaultStyle.style_widget?this.el_conveythis.style.padding="10px":(this.el_conveythis.style.paddingTop="12px",this.el_conveythis.style.paddingRight="10px")),this.el_conveythis.innerHTML='<span style="color: #8e8e8e;">Powered by </span><a href="https://www.conveythis.com/?utm_source=conveythis_drop_down_btn" alt="conveythis.com" style="color: #489fd2;">ConveyThis</a>'),+this.state.get("params.positionTop")?"dropdown"==this.defaultStyle.style_widget?(this.el_conveythis.style.borderTop="1px solid "+this.defaultStyle.style_border_color,this.defaultStyle.el_other_languages.childNodes.length>0&&this.defaultStyle.el_other_languages.appendChild(this.el_conveythis)):this.defaultStyle.el_other_languages.childNodes.length>0&&this.defaultStyle.el_other_languages.insertBefore(this.el_conveythis,this.defaultStyle.el_other_languages.childNodes[0]):("dropdown"==this.defaultStyle.style_widget&&(this.el_conveythis.style.borderBottom="1px solid "+this.defaultStyle.style_border_color),this.defaultStyle.el_other_languages.childNodes.length>0&&this.defaultStyle.el_other_languages.insertBefore(this.el_conveythis,this.defaultStyle.el_other_languages.childNodes[0])))}addLanguageInWidget(){let e=this.state.get("params.languages_list"),t=this.state.get("params.languages_total"),s=this.state.get("params.source_language_id");const n=this;for(const r in e){let i,o={};const l=+e[r].id;let c=e[r].code;if(o=t[l]||{},(!location.href.includes("conveythis.com/dashboard/translation/visual")||(c||(c=o.code2),n.state.get("params.source_language_code")||n.state.set("params.source_language_code",t[s].code2),c===target_language_code||c===n.state.get("params.source_language_code")))&&"function"!=typeof e[r]){if("popup"===n.defaultStyle.style_widget?e[r].active?i=document.createElement("div"):(i=document.createElement("a"),n.state.get("preview")||e[r].location&&(i.href=e[r].location)):i=document.createElement("div"),i.classList.add("conveythis-widget-language"),i.setAttribute("role","button"),i.setAttribute("tabindex","0"),"popup"===n.defaultStyle.style_widget?(i.style.display="flex",i.style.alignItems="center",i.style.padding="10px",i.style.border="1px solid #fff",i.style.borderRadius="4px",i.style.textDecoration="none",i.style.color="#000",i.style.width="192px"):(i.style.width="100%",i.style.height=n.defaultStyle.languageHeight+"px",i.style.display="flex",i.style.alignItems="center",i.style.paddingLeft="5px",i.style.boxSizing="border-box","dropdown"===n.defaultStyle.style_widget&&(+n.state.get("params.positionTop")?i.style.borderTop="1px solid "+n.defaultStyle.style_border_color:i.style.borderBottom="1px solid "+n.defaultStyle.style_border_color)),i.onmouseover=function(){i.style.backgroundColor=n.defaultStyle.style_hover_color,"popup"===n.defaultStyle.style_widget&&(i.style.border="1px solid #cecece")},i.onmouseout=function(){i.style.backgroundColor="unset","popup"===n.defaultStyle.style_widget&&(i.style.border="1px solid #fff")},"without-flag"!==n.defaultStyle.style_flag){let t,s=o.flag,a=n.position[s]??s;if(this.state.get("params.style_change"))for(const[t,s]of Object.entries(this.state.get("params.style_change")))+e[r].id==+t&&(a=n.position[s]);"popup"===n.defaultStyle.style_widget?(t=document.createElement("i"),n.state.get("sprite")?(t.style.backgroundSize="160%",t.style.backgroundClip="content-box",t.style.backgroundImage="url('"+n.state.get("cdnUrlImage")+"/flagSprite60.png')",t.style.backgroundRepeat="no-repeat",t.style.backgroundSize="100% 49494%",t.style.display="inline-block",t.style.backgroundPosition=a,t.style.verticalAlign="middle",t.style.boxSizing="content-box"):(t.classList.add("icon-circle"),t.style.backgroundImage="url('"+n.state.get("cdnUrlFlag")+"/"+s+".svg')",t.style.backgroundPosition="center",t.style.backgroundSize="cover"),t.style.overflow="hidden",t.style.border="1px solid #cecece",t.innerText=""):(t=document.createElement("div"),t.style.backgroundPosition=n.state.get("sprite")?a:"50% 50%",t.style.backgroundColor=n.state.get("sprite")?null:"transparent",t.style.marginLeft="10px",t.style.border="1px solid "+n.defaultStyle.style_border_color,t.style.backgroundImage=n.state.get("sprite")?"url('"+n.state.get("cdnUrlImage")+"/flagSprite60.png')":"url('"+n.state.get("cdnUrlFlag")+"/"+s+".svg')",t.style.backgroundRepeat="no-repeat",t.style.backgroundSize="100% 49494%",t.style.display="inline-block",t.style.overflow="hidden",t.style.boxSizing="content-box",e[r].active&&(t.style.marginBottom=n.state.get("sprite")?null:"7px")),"cir"===n.defaultStyle.style_flag?(n.state.get("sprite")&&(t.style.backgroundSize="40px",t.style.backgroundClip="content-box",t.style.borderRadius="50px",t.style.width="24px",t.style.height="24px"),t.style.borderRadius="50%"):"rect"===n.defaultStyle.style_flag?t.style.backgroundSize="cover":"sqr"===n.defaultStyle.style_flag&&(t.style.backgroundSize=n.state.get("sprite")?"40px":"cover"),t.style.height=n.state.get("sprite")?n.defaultStyle.iconHeight+"px":20,t.style.width=n.defaultStyle.iconWidth+"px",t.style.display="inline-block",t.style.backgroundRepeat="no-repeat",t.style.marginRight="10px",i.appendChild(t)}if("without-text"!==n.defaultStyle.style_text){let t=document.createElement("div");t.style.lineHeight=n.defaultStyle.languageHeight+"px",t.style.height=n.defaultStyle.languageHeight+"px","dropdown"===n.defaultStyle.style_widget?t.style.width=n.defaultStyle.titleWidth+"px":t.style.paddingRight="10px",t.style.display="inline-block",t.style.marginLeft="0px",t.style.verticalAlign="top",t.style.fontSize="14px",t.style.fontFamily="Arial",t.style.textAlign="left",t.style.color=n.defaultStyle.style_text_color,t.style.userSelect="none",t.style.webkitUserSelect="none",t.style.MozUserSelect="none","full-text"===n.defaultStyle.style_text&&(t.innerText=o.title),"full-text-native"===n.defaultStyle.style_text&&(t.innerText=o.title_native),"short-text"===n.defaultStyle.style_text&&(t.innerText=o.code3,t.style.textTransform="uppercase"),"short-text-alfa-2"===n.defaultStyle.style_text&&(t.innerText=o.code2,t.style.textTransform="uppercase"),"popup"!==n.defaultStyle.style_widget||e[r].active?i.appendChild(t):i.appendChild(document.createTextNode("full-text-native"===n.defaultStyle.style_text?o.title_native:o.title))}n.defaultStyle.el_arrow=document.createElement("div"),n.defaultStyle.el_arrow.style.padding="0px",n.defaultStyle.el_arrow.style.margin="0px",e[r].active?(n.defaultStyle.el_arrow.style.display="inline-block",n.defaultStyle.el_arrow.style.position="absolute",n.defaultStyle.el_arrow.style.right="10px",n.defaultStyle.el_arrow.style.height=n.defaultStyle.languageHeight+"px",n.defaultStyle.el_arrow.style.width="10px",n.defaultStyle.el_arrow.style.marginLeft="10px",n.defaultStyle.el_arrow.style.backgroundColor=n.defaultStyle.style_text_color,n.defaultStyle.el_arrow.style.webkitMask="url('"+n.state.get("cdnUrlFlag")+"/right-thin-chevron.svg') no-repeat 50% 50%",n.defaultStyle.el_arrow.style.mask="url('"+n.state.get("cdnUrlFlag")+"/right-thin-chevron.svg') no-repeat 50% 50%",n.defaultStyle.el_arrow.style.webkitMaskSize="contain",n.defaultStyle.el_arrow.style.maskSize="contain","dropdown"!==n.defaultStyle.style_widget&&"popup"!==n.defaultStyle.style_widget||(n.defaultStyle.el_arrow.classList.add("conveythis-language-arrow"),i.appendChild(n.defaultStyle.el_arrow)),i.style.border="unset",n.defaultStyle.el_current_language_wrapper.appendChild(i),n.defaultStyle.el_current_language=i,n.defaultStyle.cur_el_arrow=n.defaultStyle.el_arrow):+n.state.get("params.positionTop")?n.defaultStyle.el_other_languages.appendChild(i):n.defaultStyle.el_other_languages.insertBefore(i,n.defaultStyle.el_other_languages.childNodes[0]),i.onkeydown=async function(e){"Enter"!==e.key&&" "!==e.key||i.click()},i.onclick=async function(t){if("A"===i.tagName&&(n.defaultStyle.el_wrapper.style.display="none"),"popup"===n.defaultStyle.style_widget&&e[r].active)return;if(n.state.get("params.is_noverified")||n.isDisableMode()){let e=i.closest("#conveythis-wrapper");if(e){let t=document.createElement("div");t.style.position="relative",t.style.display="inline-block",t.style.borderBottom="1px dotted black",t.style.float="right";let s=document.createElement("span");return s.style.backgroundColor="black",s.style.fontSize="80%",s.style.padding="5px",s.style.color="#fff",s.style.textAlign="center",s.style.borderRadius="6px",s.innerText="We are sorry, but translations are currently disabled as the site is in edit mode. To view translations, please exit the editing mode.",t.appendChild(s),e.innerHTML=t.outerHTML,setTimeout((function(){e.style.display="none"}),15e3),!1}}let s=0,l=document.querySelector(".conveythis-widget-current-language-wrapper");if("none"===n.defaultStyle.el_other_languages.style.display){n.defaultStyle.el_other_languages.style.display="block",n.defaultStyle.el_other_languages.style.maxHeight=null;let e=parseInt(.7*window.innerHeight),t=n.defaultStyle.el_other_languages.clientHeight;t>e?(n.defaultStyle.el_other_languages.style.overflowY="auto",n.defaultStyle.el_other_languages.style.overflowX="hidden",n.defaultStyle.el_other_languages.style.maxHeight=e+"px"):(n.defaultStyle.el_other_languages.style.overflowY=null,n.defaultStyle.el_other_languages.style.maxHeight=t),+n.state.get("params.positionTop")?s=450:(n.defaultStyle.el_other_languages.scrollTop=n.defaultStyle.el_other_languages.scrollHeight,s=-450),n.rotateElement(n.defaultStyle.cur_el_arrow,0,s),l.setAttribute("aria-expanded","true")}else"dropdown"===n.defaultStyle.style_widget&&(n.defaultStyle.el_other_languages.style.display="none"),s=+n.state.get("params.positionTop")?450:-450,n.rotateElement(n.defaultStyle.cur_el_arrow,s,0),l.setAttribute("aria-expanded","false");if(!e[r].active)if(void 0!==n.state.get("params.is_subdomain")&&"subdomain"===n.state.get("params.is_subdomain")){let t=location.hostname.split(".");n.findLanguageId(t[0])&&t.shift(),"www"===t[0]&&t.shift();let s=t.join(".");+n.state.get("params.source_language_id")!=+e[r].id&&(s=o.code2+"."+s),location.hostname=s}else if("subdirectory"!==n.state.get("params.is_subdomain")||location.href.includes("conveythis.com/dashboard/translation/visual/"))if(e[r].location&&!location.href.includes("conveythis.com/dashboard/translation/visual/"))location.href=e[r].location;else if("default"===n.state.get("params.is_subdomain")){let s=n.findLanguageId(o.code2);const i={key:"conveythisLanguageId",value:s};if(this.indexedDBService=new a,await this.indexedDBService.updateItem("translations",i),n.render(s),n.state.get("preview")||n.translateClass.translator(e[r].id),location.href.includes("conveythis.com/dashboard/translation/visual/"))return void t.stopPropagation()}else{if(n.render(e[r].id),n.state.get("preview")||n.translateClass.translator(e[r].id),location.href.includes("conveythis.com/dashboard/translation/visual/"))return void t.stopPropagation();let s=n.findLanguageCode(e[r].id);s&&n.updateShopifyCartLanguage(s)}else location.href=e[r].location}}}}setDirection(e){if(this.state.get("params.change_direction")){let t=document.querySelectorAll("[dir]");for(let s of t)s.dir&&(s.dir=e)}}rotateElement(e,t,s){try{e.style.transform="rotate("+s+"deg)",e.animate([{transform:"rotate("+t+"deg)"},{transform:"rotate("+s+"deg)"}],{duration:400,easing:"ease-out"})}catch(e){}}findLanguageId(e){const t=this.state.get("params.languages_total");for(let s in t)if(t[s].code2===e)return s;return null}findLanguageCode(e){const t=this.state.get("params.languages_total");return t[e]?t[e].code2:null}isBot(){return/google|facebook|bing|yahoo|baidu|yandex|lighthouse/i.test(navigator.userAgent)}updateShopifyCartLanguage(e){window.Shopify&&(window.Shopify.locale=e)&&!this.isBot()&&fetch("/cart/update.js",{method:"POST",body:"attributes[lang]="+e+"&attributes[Invoice Language]="+e,headers:{"Content-Type":"application/x-www-form-urlencoded"},credentials:"same-origin"}).then((()=>{let t=document.querySelectorAll('a[href*="/cart/"]');for(let s=0;s<t.length;s++){let a=t[s],n=a.getAttribute("href");if(n){let t=n.match(/\/cart\/\d+:\d+(\?)?/);t&&(n=n.replace(/&?attributes\[lang\]=([a-zA-Z-]+)/g,""))&&a.setAttribute("href",n+(t[1]?"&":"?")+"attributes[lang]="+e)}}}))}isDisableMode(){return document.body.classList.contains("sqs-edit-mode")}async render(e){if(this.observer.disconnect(),document.body.querySelector(".conveythis_widget_placeholder")&&this.state.set("params.hide_conveythis_button",1),+this.state.get("params.hide_conveythis_button")||this.state.get("preview")||this.init("conveythis-wrapper",e),this.state.get("php_plugin_cur_lang")){let t,s=document.getElementsByClassName("conveythis_widget_placeholder");for(let a=0;a<s.length;a++)this.state.set("params.selector",s[a].id),t=a+1,this.init("conveythis_widget_placeholder_"+t,e)}let t=await this.indexedDBService.getItem("translations","conveythisLanguageId");+this.state.get("params.source_language_id")!=+t&&this.observer.observe()}}},432:e=>{e.exports=class{constructor(){this.dbName="ConveyThis",this.storeNames="translations".includes(",")?"translations".split(","):["translations"],this.db=null,this.db=new Promise(((e,t)=>{const s=window.indexedDB.open(this.dbName,1);s.onupgradeneeded=e=>{const t=e.target.result;for(let e of this.storeNames)t.objectStoreNames.contains(e)?console.log(`Store already exists: ${e}`):t.createObjectStore(e,{keyPath:"key"})},s.onsuccess=t=>{e(t.target.result)},s.onerror=e=>{console.error("Error opening indexedDB:",e),t()}}))}async addItem(e,{key:t,value:s}){t=this.checkAndUpdateKey(t);const a=(await this.db).transaction(e,"readwrite").objectStore(e);return new Promise(((e,n)=>{const r=a.put({key:t,value:s});r.onsuccess=()=>e(r.result),r.onerror=()=>n(r.error)}))}async getItem(e,t){t=this.checkAndUpdateKey(t);const s=(await this.db).transaction(e,"readonly").objectStore(e);return new Promise(((e,a)=>{const n=s.get(t);n.onsuccess=()=>{n.result?e(n.result.value):e(null)},n.onerror=()=>a(n.error)}))}async getAllItems(e){const t=(await this.db).transaction([e],"readonly").objectStore(e);return new Promise(((e,s)=>{const a=t.getAll();a.onsuccess=()=>e(a.result),a.onerror=()=>s(a.error)}))}async updateItem(e,{key:t,value:s}){t=this.checkAndUpdateKey(t);const a=(await this.db).transaction(e,"readwrite").objectStore(e);return new Promise(((e,n)=>{const r=a.put({key:t,value:s});r.onsuccess=()=>e(r.result),r.onerror=()=>n(r.error)}))}async deleteItem(e,t){t=this.checkAndUpdateKey(t);const s=(await this.db).transaction(e,"readwrite").objectStore(e);return new Promise(((e,a)=>{const n=s.delete(t);n.onsuccess=()=>e(n.result),n.onerror=()=>a(n.error)}))}checkAndUpdateKey(e){return"conveythisLanguageId"===e&&location.href.includes("/dashboard/translation/visual/")?"conveythisVisualEditorLanguageId":e}}},347:e=>{e.exports=class{constructor(){}support(){console.log("%cContact ConveyThis support support@conveythis.com","font-size:20px; color:red; background-color: yellow;")}notActiveDomain(){console.log("%cThis domain is not registered in the system","font-size:20px; color:red; background-color: yellow;")}}},205:(e,t,s)=>{const a=s(432),n=s(733),r=s(575);e.exports=class{constructor(e){this.state=e,this.translate=new n(this.state,this),this.preview=new r(this,this.state),this.observer=new MutationObserver(((e,t)=>this.init(e,t))),this.options={attributes:!1,childList:!0,subtree:!0},this.targetNode=document.documentElement||document.body,this.indexedDBService=new a}async init(e,t){for(let t of e)if("childList"===t.type&&t.addedNodes.length>0)if(this.state.get("params.is_prevent_ajax")||this.state.get("preview"))this.state.get("preview")&&(this.translate.tree(!1),this.preview.recursiveNode(t.addedNodes));else{let e=await this.indexedDBService.getItem("translations","conveythisLanguageId");e&&this.translate.ajax(e,t)}}observe(){this.observer.observe(this.targetNode,this.options)}disconnect(){this.observer.disconnect()}}},430:e=>{e.exports=class{constructor(){this._state={api_key:"",cdnUrlFlag:"//cdn.conveythis.com/images/flags/svg",cdnUrlImage:"//cdn.conveythis.com/images",translations:[],ajaxSentSegments:[],segments:[],requestQueue:[],target_language_code:"",page_path:"",sprite:!0,is_shopify:0,php_plugin_cur_lang:"",current_language_id:0,preview:0,is_app:!1,conveyItemsDB:[],languagesList:[],params:{is_prevent_ajax:0,region:"EU",selector:"customize-view-button",api_region:"",auto_translate:0,backlink:"",backlinkTitle:"",change_direction:0,default_language_id:0,dynamic_translation:0,hide_conveythis_logo:0,is_subdomain:null,is_excluded:0,languages_total:{},languages_list:[],no_translate_element_ids:"",positionBottom:0,positionLeft:0,positionRight:0,positionTop:0,source_language_code:"",source_language_id:0,styleSelectorId:null,style_background_color:"",style_border_color:"",style_change:null,style_corner_type:"",style_flag:"",style_hover_color:"",style_text:"",style_text_color:"",style_widget:"",translate_document:0,translate_links:0,translate_media:0,translate_video:0,target_languages:{},hide_conveythis_button:0}}}set(e,t){let s=e.split("."),a=this._state;for(let e=0;e<s.length-1;e++){let t=s[e];void 0===a[t]&&(console.warn(`Warning: Setting new property '${t}', which does not exist in the state`),a[t]={}),a=a[t]}void 0===a[s[s.length-1]]&&console.warn(`Warning: Setting new property '${s[s.length-1]}', which does not exist in the state`),a[s[s.length-1]]=t}get(e){let t=e.split("."),s=this._state;for(let e of t){if(null==s[e])return null;s=s[e]}return s}}},425:(e,t,s)=>{"use strict";function a(e,t){return function(){return e.apply(t,arguments)}}const{toString:n}=Object.prototype,{getPrototypeOf:r}=Object,i=(o=Object.create(null),e=>{const t=n.call(e);return o[t]||(o[t]=t.slice(8,-1).toLowerCase())});var o;const l=e=>(e=e.toLowerCase(),t=>i(t)===e),c=e=>t=>typeof t===e,{isArray:d}=Array,u=c("undefined");const h=l("ArrayBuffer");const p=c("string"),g=c("function"),y=c("number"),f=e=>null!==e&&"object"==typeof e,m=e=>{if("object"!==i(e))return!1;const t=r(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||Symbol.toStringTag in e||Symbol.iterator in e)},_=l("Date"),w=l("File"),S=l("Blob"),v=l("FileList"),b=l("URLSearchParams"),[x,E,T,k]=["ReadableStream","Request","Response","Headers"].map(l);function C(e,t,{allOwnKeys:s=!1}={}){if(null==e)return;let a,n;if("object"!=typeof e&&(e=[e]),d(e))for(a=0,n=e.length;a<n;a++)t.call(null,e[a],a,e);else{const n=s?Object.getOwnPropertyNames(e):Object.keys(e),r=n.length;let i;for(a=0;a<r;a++)i=n[a],t.call(null,e[i],i,e)}}function L(e,t){t=t.toLowerCase();const s=Object.keys(e);let a,n=s.length;for(;n-- >0;)if(a=s[n],t===a.toLowerCase())return a;return null}const R="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:s.g,A=e=>!u(e)&&e!==R;const N=(O="undefined"!=typeof Uint8Array&&r(Uint8Array),e=>O&&e instanceof O);var O;const I=l("HTMLFormElement"),B=(({hasOwnProperty:e})=>(t,s)=>e.call(t,s))(Object.prototype),U=l("RegExp"),P=(e,t)=>{const s=Object.getOwnPropertyDescriptors(e),a={};C(s,((s,n)=>{let r;!1!==(r=t(s,n,e))&&(a[n]=r||s)})),Object.defineProperties(e,a)},j="abcdefghijklmnopqrstuvwxyz",D="0123456789",F={DIGIT:D,ALPHA:j,ALPHA_DIGIT:j+j.toUpperCase()+D};const q=l("AsyncFunction"),z=(W="function"==typeof setImmediate,H=g(R.postMessage),W?setImmediate:H?(M=`axios@${Math.random()}`,$=[],R.addEventListener("message",(({source:e,data:t})=>{e===R&&t===M&&$.length&&$.shift()()}),!1),e=>{$.push(e),R.postMessage(M,"*")}):e=>setTimeout(e));var W,H,M,$;const J="undefined"!=typeof queueMicrotask?queueMicrotask.bind(R):"undefined"!=typeof process&&process.nextTick||z;var V={isArray:d,isArrayBuffer:h,isBuffer:function(e){return null!==e&&!u(e)&&null!==e.constructor&&!u(e.constructor)&&g(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"==typeof FormData&&e instanceof FormData||g(e.append)&&("formdata"===(t=i(e))||"object"===t&&g(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&h(e.buffer),t},isString:p,isNumber:y,isBoolean:e=>!0===e||!1===e,isObject:f,isPlainObject:m,isReadableStream:x,isRequest:E,isResponse:T,isHeaders:k,isUndefined:u,isDate:_,isFile:w,isBlob:S,isRegExp:U,isFunction:g,isStream:e=>f(e)&&g(e.pipe),isURLSearchParams:b,isTypedArray:N,isFileList:v,forEach:C,merge:function e(){const{caseless:t}=A(this)&&this||{},s={},a=(a,n)=>{const r=t&&L(s,n)||n;m(s[r])&&m(a)?s[r]=e(s[r],a):m(a)?s[r]=e({},a):d(a)?s[r]=a.slice():s[r]=a};for(let e=0,t=arguments.length;e<t;e++)arguments[e]&&C(arguments[e],a);return s},extend:(e,t,s,{allOwnKeys:n}={})=>(C(t,((t,n)=>{s&&g(t)?e[n]=a(t,s):e[n]=t}),{allOwnKeys:n}),e),trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,s,a)=>{e.prototype=Object.create(t.prototype,a),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),s&&Object.assign(e.prototype,s)},toFlatObject:(e,t,s,a)=>{let n,i,o;const l={};if(t=t||{},null==e)return t;do{for(n=Object.getOwnPropertyNames(e),i=n.length;i-- >0;)o=n[i],a&&!a(o,e,t)||l[o]||(t[o]=e[o],l[o]=!0);e=!1!==s&&r(e)}while(e&&(!s||s(e,t))&&e!==Object.prototype);return t},kindOf:i,kindOfTest:l,endsWith:(e,t,s)=>{e=String(e),(void 0===s||s>e.length)&&(s=e.length),s-=t.length;const a=e.indexOf(t,s);return-1!==a&&a===s},toArray:e=>{if(!e)return null;if(d(e))return e;let t=e.length;if(!y(t))return null;const s=new Array(t);for(;t-- >0;)s[t]=e[t];return s},forEachEntry:(e,t)=>{const s=(e&&e[Symbol.iterator]).call(e);let a;for(;(a=s.next())&&!a.done;){const s=a.value;t.call(e,s[0],s[1])}},matchAll:(e,t)=>{let s;const a=[];for(;null!==(s=e.exec(t));)a.push(s);return a},isHTMLForm:I,hasOwnProperty:B,hasOwnProp:B,reduceDescriptors:P,freezeMethods:e=>{P(e,((t,s)=>{if(g(e)&&-1!==["arguments","caller","callee"].indexOf(s))return!1;const a=e[s];g(a)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")}))}))},toObjectSet:(e,t)=>{const s={},a=e=>{e.forEach((e=>{s[e]=!0}))};return d(e)?a(e):a(String(e).split(t)),s},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,s){return t.toUpperCase()+s})),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:L,global:R,isContextDefined:A,ALPHABET:F,generateString:(e=16,t=F.ALPHA_DIGIT)=>{let s="";const{length:a}=t;for(;e--;)s+=t[Math.random()*a|0];return s},isSpecCompliantForm:function(e){return!!(e&&g(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:e=>{const t=new Array(10),s=(e,a)=>{if(f(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[a]=e;const n=d(e)?[]:{};return C(e,((e,t)=>{const r=s(e,a+1);!u(r)&&(n[t]=r)})),t[a]=void 0,n}}return e};return s(e,0)},isAsyncFn:q,isThenable:e=>e&&(f(e)||g(e))&&g(e.then)&&g(e.catch),setImmediate:z,asap:J};function K(e,t,s,a,n){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),s&&(this.config=s),a&&(this.request=a),n&&(this.response=n)}V.inherits(K,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:V.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const Y=K.prototype,G={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{G[e]={value:e}})),Object.defineProperties(K,G),Object.defineProperty(Y,"isAxiosError",{value:!0}),K.from=(e,t,s,a,n,r)=>{const i=Object.create(Y);return V.toFlatObject(e,i,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),K.call(i,e.message,t,s,a,n),i.cause=e,i.name=e.name,r&&Object.assign(i,r),i};function X(e){return V.isPlainObject(e)||V.isArray(e)}function Q(e){return V.endsWith(e,"[]")?e.slice(0,-2):e}function Z(e,t,s){return e?e.concat(t).map((function(e,t){return e=Q(e),!s&&t?"["+e+"]":e})).join(s?".":""):t}const ee=V.toFlatObject(V,{},null,(function(e){return/^is[A-Z]/.test(e)}));function te(e,t,s){if(!V.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const a=(s=V.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!V.isUndefined(t[e])}))).metaTokens,n=s.visitor||c,r=s.dots,i=s.indexes,o=(s.Blob||"undefined"!=typeof Blob&&Blob)&&V.isSpecCompliantForm(t);if(!V.isFunction(n))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(V.isDate(e))return e.toISOString();if(!o&&V.isBlob(e))throw new K("Blob is not supported. Use a Buffer instead.");return V.isArrayBuffer(e)||V.isTypedArray(e)?o&&"function"==typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,s,n){let o=e;if(e&&!n&&"object"==typeof e)if(V.endsWith(s,"{}"))s=a?s:s.slice(0,-2),e=JSON.stringify(e);else if(V.isArray(e)&&function(e){return V.isArray(e)&&!e.some(X)}(e)||(V.isFileList(e)||V.endsWith(s,"[]"))&&(o=V.toArray(e)))return s=Q(s),o.forEach((function(e,a){!V.isUndefined(e)&&null!==e&&t.append(!0===i?Z([s],a,r):null===i?s:s+"[]",l(e))})),!1;return!!X(e)||(t.append(Z(n,s,r),l(e)),!1)}const d=[],u=Object.assign(ee,{defaultVisitor:c,convertValue:l,isVisitable:X});if(!V.isObject(e))throw new TypeError("data must be an object");return function e(s,a){if(!V.isUndefined(s)){if(-1!==d.indexOf(s))throw Error("Circular reference detected in "+a.join("."));d.push(s),V.forEach(s,(function(s,r){!0===(!(V.isUndefined(s)||null===s)&&n.call(t,s,V.isString(r)?r.trim():r,a,u))&&e(s,a?a.concat(r):[r])})),d.pop()}}(e),t}function se(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function ae(e,t){this._pairs=[],e&&te(e,this,t)}const ne=ae.prototype;function re(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function ie(e,t,s){if(!t)return e;const a=s&&s.encode||re,n=s&&s.serialize;let r;if(r=n?n(t,s):V.isURLSearchParams(t)?t.toString():new ae(t,s).toString(a),r){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+r}return e}ne.append=function(e,t){this._pairs.push([e,t])},ne.toString=function(e){const t=e?function(t){return e.call(this,t,se)}:se;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};var oe=class{constructor(){this.handlers=[]}use(e,t,s){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!s&&s.synchronous,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){V.forEach(this.handlers,(function(t){null!==t&&e(t)}))}},le={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},ce={isBrowser:!0,classes:{URLSearchParams:"undefined"!=typeof URLSearchParams?URLSearchParams:ae,FormData:"undefined"!=typeof FormData?FormData:null,Blob:"undefined"!=typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]};const de="undefined"!=typeof window&&"undefined"!=typeof document,ue=(he="undefined"!=typeof navigator&&navigator.product,de&&["ReactNative","NativeScript","NS"].indexOf(he)<0);var he;const pe="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts,ge=de&&window.location.href||"http://localhost";var ye={...Object.freeze({__proto__:null,hasBrowserEnv:de,hasStandardBrowserWebWorkerEnv:pe,hasStandardBrowserEnv:ue,origin:ge}),...ce};function fe(e){function t(e,s,a,n){let r=e[n++];if("__proto__"===r)return!0;const i=Number.isFinite(+r),o=n>=e.length;if(r=!r&&V.isArray(a)?a.length:r,o)return V.hasOwnProp(a,r)?a[r]=[a[r],s]:a[r]=s,!i;a[r]&&V.isObject(a[r])||(a[r]=[]);return t(e,s,a[r],n)&&V.isArray(a[r])&&(a[r]=function(e){const t={},s=Object.keys(e);let a;const n=s.length;let r;for(a=0;a<n;a++)r=s[a],t[r]=e[r];return t}(a[r])),!i}if(V.isFormData(e)&&V.isFunction(e.entries)){const s={};return V.forEachEntry(e,((e,a)=>{t(function(e){return V.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),a,s,0)})),s}return null}const me={transitional:le,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const s=t.getContentType()||"",a=s.indexOf("application/json")>-1,n=V.isObject(e);n&&V.isHTMLForm(e)&&(e=new FormData(e));if(V.isFormData(e))return a?JSON.stringify(fe(e)):e;if(V.isArrayBuffer(e)||V.isBuffer(e)||V.isStream(e)||V.isFile(e)||V.isBlob(e)||V.isReadableStream(e))return e;if(V.isArrayBufferView(e))return e.buffer;if(V.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let r;if(n){if(s.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return te(e,new ye.classes.URLSearchParams,Object.assign({visitor:function(e,t,s,a){return ye.isNode&&V.isBuffer(e)?(this.append(t,e.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((r=V.isFileList(e))||s.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return te(r?{"files[]":e}:e,t&&new t,this.formSerializer)}}return n||a?(t.setContentType("application/json",!1),function(e,t,s){if(V.isString(e))try{return(t||JSON.parse)(e),V.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(s||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||me.transitional,s=t&&t.forcedJSONParsing,a="json"===this.responseType;if(V.isResponse(e)||V.isReadableStream(e))return e;if(e&&V.isString(e)&&(s&&!this.responseType||a)){const s=!(t&&t.silentJSONParsing)&&a;try{return JSON.parse(e)}catch(e){if(s){if("SyntaxError"===e.name)throw K.from(e,K.ERR_BAD_RESPONSE,this,null,this.response);throw e}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ye.classes.FormData,Blob:ye.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};V.forEach(["delete","get","head","post","put","patch"],(e=>{me.headers[e]={}}));var _e=me;const we=V.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]);const Se=Symbol("internals");function ve(e){return e&&String(e).trim().toLowerCase()}function be(e){return!1===e||null==e?e:V.isArray(e)?e.map(be):String(e)}function xe(e,t,s,a,n){return V.isFunction(a)?a.call(this,t,s):(n&&(t=s),V.isString(t)?V.isString(a)?-1!==t.indexOf(a):V.isRegExp(a)?a.test(t):void 0:void 0)}class Ee{constructor(e){e&&this.set(e)}set(e,t,s){const a=this;function n(e,t,s){const n=ve(t);if(!n)throw new Error("header name must be a non-empty string");const r=V.findKey(a,n);(!r||void 0===a[r]||!0===s||void 0===s&&!1!==a[r])&&(a[r||t]=be(e))}const r=(e,t)=>V.forEach(e,((e,s)=>n(e,s,t)));if(V.isPlainObject(e)||e instanceof this.constructor)r(e,t);else if(V.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))r((e=>{const t={};let s,a,n;return e&&e.split("\n").forEach((function(e){n=e.indexOf(":"),s=e.substring(0,n).trim().toLowerCase(),a=e.substring(n+1).trim(),!s||t[s]&&we[s]||("set-cookie"===s?t[s]?t[s].push(a):t[s]=[a]:t[s]=t[s]?t[s]+", "+a:a)})),t})(e),t);else if(V.isHeaders(e))for(const[t,a]of e.entries())n(a,t,s);else null!=e&&n(t,e,s);return this}get(e,t){if(e=ve(e)){const s=V.findKey(this,e);if(s){const e=this[s];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=s.exec(e);)t[a[1]]=a[2];return t}(e);if(V.isFunction(t))return t.call(this,e,s);if(V.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=ve(e)){const s=V.findKey(this,e);return!(!s||void 0===this[s]||t&&!xe(0,this[s],s,t))}return!1}delete(e,t){const s=this;let a=!1;function n(e){if(e=ve(e)){const n=V.findKey(s,e);!n||t&&!xe(0,s[n],n,t)||(delete s[n],a=!0)}}return V.isArray(e)?e.forEach(n):n(e),a}clear(e){const t=Object.keys(this);let s=t.length,a=!1;for(;s--;){const n=t[s];e&&!xe(0,this[n],n,e,!0)||(delete this[n],a=!0)}return a}normalize(e){const t=this,s={};return V.forEach(this,((a,n)=>{const r=V.findKey(s,n);if(r)return t[r]=be(a),void delete t[n];const i=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,s)=>t.toUpperCase()+s))}(n):String(n).trim();i!==n&&delete t[n],t[i]=be(a),s[i]=!0})),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return V.forEach(this,((s,a)=>{null!=s&&!1!==s&&(t[a]=e&&V.isArray(s)?s.join(", "):s)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((([e,t])=>e+": "+t)).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const s=new this(e);return t.forEach((e=>s.set(e))),s}static accessor(e){const t=(this[Se]=this[Se]={accessors:{}}).accessors,s=this.prototype;function a(e){const a=ve(e);t[a]||(!function(e,t){const s=V.toCamelCase(" "+t);["get","set","has"].forEach((a=>{Object.defineProperty(e,a+s,{value:function(e,s,n){return this[a].call(this,t,e,s,n)},configurable:!0})}))}(s,e),t[a]=!0)}return V.isArray(e)?e.forEach(a):a(e),this}}Ee.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),V.reduceDescriptors(Ee.prototype,(({value:e},t)=>{let s=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(e){this[s]=e}}})),V.freezeMethods(Ee);var Te=Ee;function ke(e,t){const s=this||_e,a=t||s,n=Te.from(a.headers);let r=a.data;return V.forEach(e,(function(e){r=e.call(s,r,n.normalize(),t?t.status:void 0)})),n.normalize(),r}function Ce(e){return!(!e||!e.__CANCEL__)}function Le(e,t,s){K.call(this,null==e?"canceled":e,K.ERR_CANCELED,t,s),this.name="CanceledError"}function Re(e,t,s){const a=s.config.validateStatus;s.status&&a&&!a(s.status)?t(new K("Request failed with status code "+s.status,[K.ERR_BAD_REQUEST,K.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s)):e(s)}V.inherits(Le,K,{__CANCEL__:!0});const Ae=(e,t,s=3)=>{let a=0;const n=function(e,t){e=e||10;const s=new Array(e),a=new Array(e);let n,r=0,i=0;return t=void 0!==t?t:1e3,function(o){const l=Date.now(),c=a[i];n||(n=l),s[r]=o,a[r]=l;let d=i,u=0;for(;d!==r;)u+=s[d++],d%=e;if(r=(r+1)%e,r===i&&(i=(i+1)%e),l-n<t)return;const h=c&&l-c;return h?Math.round(1e3*u/h):void 0}}(50,250);return function(e,t){let s,a,n=0,r=1e3/t;const i=(t,r=Date.now())=>{n=r,s=null,a&&(clearTimeout(a),a=null),e.apply(null,t)};return[(...e)=>{const t=Date.now(),o=t-n;o>=r?i(e,t):(s=e,a||(a=setTimeout((()=>{a=null,i(s)}),r-o)))},()=>s&&i(s)]}((s=>{const r=s.loaded,i=s.lengthComputable?s.total:void 0,o=r-a,l=n(o);a=r;e({loaded:r,total:i,progress:i?r/i:void 0,bytes:o,rate:l||void 0,estimated:l&&i&&r<=i?(i-r)/l:void 0,event:s,lengthComputable:null!=i,[t?"download":"upload"]:!0})}),s)},Ne=(e,t)=>{const s=null!=e;return[a=>t[0]({lengthComputable:s,total:e,loaded:a}),t[1]]},Oe=e=>(...t)=>V.asap((()=>e(...t)));var Ie=ye.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),t=document.createElement("a");let s;function a(s){let a=s;return e&&(t.setAttribute("href",a),a=t.href),t.setAttribute("href",a),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:"/"===t.pathname.charAt(0)?t.pathname:"/"+t.pathname}}return s=a(window.location.href),function(e){const t=V.isString(e)?a(e):e;return t.protocol===s.protocol&&t.host===s.host}}():function(){return!0},Be=ye.hasStandardBrowserEnv?{write(e,t,s,a,n,r){const i=[e+"="+encodeURIComponent(t)];V.isNumber(s)&&i.push("expires="+new Date(s).toGMTString()),V.isString(a)&&i.push("path="+a),V.isString(n)&&i.push("domain="+n),!0===r&&i.push("secure"),document.cookie=i.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function Ue(e,t){return e&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const Pe=e=>e instanceof Te?{...e}:e;function je(e,t){t=t||{};const s={};function a(e,t,s){return V.isPlainObject(e)&&V.isPlainObject(t)?V.merge.call({caseless:s},e,t):V.isPlainObject(t)?V.merge({},t):V.isArray(t)?t.slice():t}function n(e,t,s){return V.isUndefined(t)?V.isUndefined(e)?void 0:a(void 0,e,s):a(e,t,s)}function r(e,t){if(!V.isUndefined(t))return a(void 0,t)}function i(e,t){return V.isUndefined(t)?V.isUndefined(e)?void 0:a(void 0,e):a(void 0,t)}function o(s,n,r){return r in t?a(s,n):r in e?a(void 0,s):void 0}const l={url:r,method:r,data:r,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:o,headers:(e,t)=>n(Pe(e),Pe(t),!0)};return V.forEach(Object.keys(Object.assign({},e,t)),(function(a){const r=l[a]||n,i=r(e[a],t[a],a);V.isUndefined(i)&&r!==o||(s[a]=i)})),s}var De=e=>{const t=je({},e);let s,{data:a,withXSRFToken:n,xsrfHeaderName:r,xsrfCookieName:i,headers:o,auth:l}=t;if(t.headers=o=Te.from(o),t.url=ie(Ue(t.baseURL,t.url),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),V.isFormData(a))if(ye.hasStandardBrowserEnv||ye.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(!1!==(s=o.getContentType())){const[e,...t]=s?s.split(";").map((e=>e.trim())).filter(Boolean):[];o.setContentType([e||"multipart/form-data",...t].join("; "))}if(ye.hasStandardBrowserEnv&&(n&&V.isFunction(n)&&(n=n(t)),n||!1!==n&&Ie(t.url))){const e=r&&i&&Be.read(i);e&&o.set(r,e)}return t};var Fe="undefined"!=typeof XMLHttpRequest&&function(e){return new Promise((function(t,s){const a=De(e);let n=a.data;const r=Te.from(a.headers).normalize();let i,o,l,c,d,{responseType:u,onUploadProgress:h,onDownloadProgress:p}=a;function g(){c&&c(),d&&d(),a.cancelToken&&a.cancelToken.unsubscribe(i),a.signal&&a.signal.removeEventListener("abort",i)}let y=new XMLHttpRequest;function f(){if(!y)return;const a=Te.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders());Re((function(e){t(e),g()}),(function(e){s(e),g()}),{data:u&&"text"!==u&&"json"!==u?y.response:y.responseText,status:y.status,statusText:y.statusText,headers:a,config:e,request:y}),y=null}y.open(a.method.toUpperCase(),a.url,!0),y.timeout=a.timeout,"onloadend"in y?y.onloadend=f:y.onreadystatechange=function(){y&&4===y.readyState&&(0!==y.status||y.responseURL&&0===y.responseURL.indexOf("file:"))&&setTimeout(f)},y.onabort=function(){y&&(s(new K("Request aborted",K.ECONNABORTED,e,y)),y=null)},y.onerror=function(){s(new K("Network Error",K.ERR_NETWORK,e,y)),y=null},y.ontimeout=function(){let t=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const n=a.transitional||le;a.timeoutErrorMessage&&(t=a.timeoutErrorMessage),s(new K(t,n.clarifyTimeoutError?K.ETIMEDOUT:K.ECONNABORTED,e,y)),y=null},void 0===n&&r.setContentType(null),"setRequestHeader"in y&&V.forEach(r.toJSON(),(function(e,t){y.setRequestHeader(t,e)})),V.isUndefined(a.withCredentials)||(y.withCredentials=!!a.withCredentials),u&&"json"!==u&&(y.responseType=a.responseType),p&&([l,d]=Ae(p,!0),y.addEventListener("progress",l)),h&&y.upload&&([o,c]=Ae(h),y.upload.addEventListener("progress",o),y.upload.addEventListener("loadend",c)),(a.cancelToken||a.signal)&&(i=t=>{y&&(s(!t||t.type?new Le(null,e,y):t),y.abort(),y=null)},a.cancelToken&&a.cancelToken.subscribe(i),a.signal&&(a.signal.aborted?i():a.signal.addEventListener("abort",i)));const m=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(a.url);m&&-1===ye.protocols.indexOf(m)?s(new K("Unsupported protocol "+m+":",K.ERR_BAD_REQUEST,e)):y.send(n||null)}))};var qe=(e,t)=>{let s,a=new AbortController;const n=function(e){if(!s){s=!0,i();const t=e instanceof Error?e:this.reason;a.abort(t instanceof K?t:new Le(t instanceof Error?t.message:t))}};let r=t&&setTimeout((()=>{n(new K(`timeout ${t} of ms exceeded`,K.ETIMEDOUT))}),t);const i=()=>{e&&(r&&clearTimeout(r),r=null,e.forEach((e=>{e&&(e.removeEventListener?e.removeEventListener("abort",n):e.unsubscribe(n))})),e=null)};e.forEach((e=>e&&e.addEventListener&&e.addEventListener("abort",n)));const{signal:o}=a;return o.unsubscribe=i,[o,()=>{r&&clearTimeout(r),r=null}]};const ze=function*(e,t){let s=e.byteLength;if(!t||s<t)return void(yield e);let a,n=0;for(;n<s;)a=n+t,yield e.slice(n,a),n=a},We=(e,t,s,a,n)=>{const r=async function*(e,t,s){for await(const a of e)yield*ze(ArrayBuffer.isView(a)?a:await s(String(a)),t)}(e,t,n);let i,o=0,l=e=>{i||(i=!0,a&&a(e))};return new ReadableStream({async pull(e){try{const{done:t,value:a}=await r.next();if(t)return l(),void e.close();let n=a.byteLength;if(s){let e=o+=n;s(e)}e.enqueue(new Uint8Array(a))}catch(e){throw l(e),e}},cancel:e=>(l(e),r.return())},{highWaterMark:2})},He="function"==typeof fetch&&"function"==typeof Request&&"function"==typeof Response,Me=He&&"function"==typeof ReadableStream,$e=He&&("function"==typeof TextEncoder?(Je=new TextEncoder,e=>Je.encode(e)):async e=>new Uint8Array(await new Response(e).arrayBuffer()));var Je;const Ve=(e,...t)=>{try{return!!e(...t)}catch(e){return!1}},Ke=Me&&Ve((()=>{let e=!1;const t=new Request(ye.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t})),Ye=Me&&Ve((()=>V.isReadableStream(new Response("").body))),Ge={stream:Ye&&(e=>e.body)};var Xe;He&&(Xe=new Response,["text","arrayBuffer","blob","formData","stream"].forEach((e=>{!Ge[e]&&(Ge[e]=V.isFunction(Xe[e])?t=>t[e]():(t,s)=>{throw new K(`Response type '${e}' is not supported`,K.ERR_NOT_SUPPORT,s)})})));const Qe=async(e,t)=>{const s=V.toFiniteNumber(e.getContentLength());return null==s?(async e=>null==e?0:V.isBlob(e)?e.size:V.isSpecCompliantForm(e)?(await new Request(e).arrayBuffer()).byteLength:V.isArrayBufferView(e)||V.isArrayBuffer(e)?e.byteLength:(V.isURLSearchParams(e)&&(e+=""),V.isString(e)?(await $e(e)).byteLength:void 0))(t):s};const Ze={http:null,xhr:Fe,fetch:He&&(async e=>{let{url:t,method:s,data:a,signal:n,cancelToken:r,timeout:i,onDownloadProgress:o,onUploadProgress:l,responseType:c,headers:d,withCredentials:u="same-origin",fetchOptions:h}=De(e);c=c?(c+"").toLowerCase():"text";let p,g,[y,f]=n||r||i?qe([n,r],i):[];const m=()=>{!p&&setTimeout((()=>{y&&y.unsubscribe()})),p=!0};let _;try{if(l&&Ke&&"get"!==s&&"head"!==s&&0!==(_=await Qe(d,a))){let e,s=new Request(t,{method:"POST",body:a,duplex:"half"});if(V.isFormData(a)&&(e=s.headers.get("content-type"))&&d.setContentType(e),s.body){const[e,t]=Ne(_,Ae(Oe(l)));a=We(s.body,65536,e,t,$e)}}V.isString(u)||(u=u?"include":"omit"),g=new Request(t,{...h,signal:y,method:s.toUpperCase(),headers:d.normalize().toJSON(),body:a,duplex:"half",credentials:u});let n=await fetch(g);const r=Ye&&("stream"===c||"response"===c);if(Ye&&(o||r)){const e={};["status","statusText","headers"].forEach((t=>{e[t]=n[t]}));const t=V.toFiniteNumber(n.headers.get("content-length")),[s,a]=o&&Ne(t,Ae(Oe(o),!0))||[];n=new Response(We(n.body,65536,s,(()=>{a&&a(),r&&m()}),$e),e)}c=c||"text";let i=await Ge[V.findKey(Ge,c)||"text"](n,e);return!r&&m(),f&&f(),await new Promise(((t,s)=>{Re(t,s,{data:i,headers:Te.from(n.headers),status:n.status,statusText:n.statusText,config:e,request:g})}))}catch(t){if(m(),t&&"TypeError"===t.name&&/fetch/i.test(t.message))throw Object.assign(new K("Network Error",K.ERR_NETWORK,e,g),{cause:t.cause||t});throw K.from(t,t&&t.code,e,g)}})};V.forEach(Ze,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(e){}Object.defineProperty(e,"adapterName",{value:t})}}));const et=e=>`- ${e}`,tt=e=>V.isFunction(e)||null===e||!1===e;var st=e=>{e=V.isArray(e)?e:[e];const{length:t}=e;let s,a;const n={};for(let r=0;r<t;r++){let t;if(s=e[r],a=s,!tt(s)&&(a=Ze[(t=String(s)).toLowerCase()],void 0===a))throw new K(`Unknown adapter '${t}'`);if(a)break;n[t||"#"+r]=a}if(!a){const e=Object.entries(n).map((([e,t])=>`adapter ${e} `+(!1===t?"is not supported by the environment":"is not available in the build")));throw new K("There is no suitable adapter to dispatch the request "+(t?e.length>1?"since :\n"+e.map(et).join("\n"):" "+et(e[0]):"as no adapter specified"),"ERR_NOT_SUPPORT")}return a};function at(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Le(null,e)}function nt(e){at(e),e.headers=Te.from(e.headers),e.data=ke.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return st(e.adapter||_e.adapter)(e).then((function(t){return at(e),t.data=ke.call(e,e.transformResponse,t),t.headers=Te.from(t.headers),t}),(function(t){return Ce(t)||(at(e),t&&t.response&&(t.response.data=ke.call(e,e.transformResponse,t.response),t.response.headers=Te.from(t.response.headers))),Promise.reject(t)}))}const rt="1.7.4",it={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{it[e]=function(s){return typeof s===e||"a"+(t<1?"n ":" ")+e}}));const ot={};it.transitional=function(e,t,s){function a(e,t){return"[Axios v1.7.4] Transitional option '"+e+"'"+t+(s?". "+s:"")}return(s,n,r)=>{if(!1===e)throw new K(a(n," has been removed"+(t?" in "+t:"")),K.ERR_DEPRECATED);return t&&!ot[n]&&(ot[n]=!0,console.warn(a(n," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(s,n,r)}};var lt={assertOptions:function(e,t,s){if("object"!=typeof e)throw new K("options must be an object",K.ERR_BAD_OPTION_VALUE);const a=Object.keys(e);let n=a.length;for(;n-- >0;){const r=a[n],i=t[r];if(i){const t=e[r],s=void 0===t||i(t,r,e);if(!0!==s)throw new K("option "+r+" must be "+s,K.ERR_BAD_OPTION_VALUE)}else if(!0!==s)throw new K("Unknown option "+r,K.ERR_BAD_OPTION)}},validators:it};const ct=lt.validators;class dt{constructor(e){this.defaults=e,this.interceptors={request:new oe,response:new oe}}async request(e,t){try{return await this._request(e,t)}catch(e){if(e instanceof Error){let t;Error.captureStackTrace?Error.captureStackTrace(t={}):t=new Error;const s=t.stack?t.stack.replace(/^.+\n/,""):"";try{e.stack?s&&!String(e.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(e.stack+="\n"+s):e.stack=s}catch(e){}}throw e}}_request(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},t=je(this.defaults,t);const{transitional:s,paramsSerializer:a,headers:n}=t;void 0!==s&&lt.assertOptions(s,{silentJSONParsing:ct.transitional(ct.boolean),forcedJSONParsing:ct.transitional(ct.boolean),clarifyTimeoutError:ct.transitional(ct.boolean)},!1),null!=a&&(V.isFunction(a)?t.paramsSerializer={serialize:a}:lt.assertOptions(a,{encode:ct.function,serialize:ct.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();let r=n&&V.merge(n.common,n[t.method]);n&&V.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete n[e]})),t.headers=Te.concat(r,n);const i=[];let o=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(o=o&&e.synchronous,i.unshift(e.fulfilled,e.rejected))}));const l=[];let c;this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)}));let d,u=0;if(!o){const e=[nt.bind(this),void 0];for(e.unshift.apply(e,i),e.push.apply(e,l),d=e.length,c=Promise.resolve(t);u<d;)c=c.then(e[u++],e[u++]);return c}d=i.length;let h=t;for(u=0;u<d;){const e=i[u++],t=i[u++];try{h=e(h)}catch(e){t.call(this,e);break}}try{c=nt.call(this,h)}catch(e){return Promise.reject(e)}for(u=0,d=l.length;u<d;)c=c.then(l[u++],l[u++]);return c}getUri(e){return ie(Ue((e=je(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}V.forEach(["delete","get","head","options"],(function(e){dt.prototype[e]=function(t,s){return this.request(je(s||{},{method:e,url:t,data:(s||{}).data}))}})),V.forEach(["post","put","patch"],(function(e){function t(t){return function(s,a,n){return this.request(je(n||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:s,data:a}))}}dt.prototype[e]=t(),dt.prototype[e+"Form"]=t(!0)}));var ut=dt;class ht{constructor(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const s=this;this.promise.then((e=>{if(!s._listeners)return;let t=s._listeners.length;for(;t-- >0;)s._listeners[t](e);s._listeners=null})),this.promise.then=e=>{let t;const a=new Promise((e=>{s.subscribe(e),t=e})).then(e);return a.cancel=function(){s.unsubscribe(t)},a},e((function(e,a,n){s.reason||(s.reason=new Le(e,a,n),t(s.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}static source(){let e;return{token:new ht((function(t){e=t})),cancel:e}}}var pt=ht;const gt={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(gt).forEach((([e,t])=>{gt[t]=e}));var yt=gt;const ft=function e(t){const s=new ut(t),n=a(ut.prototype.request,s);return V.extend(n,ut.prototype,s,{allOwnKeys:!0}),V.extend(n,s,null,{allOwnKeys:!0}),n.create=function(s){return e(je(t,s))},n}(_e);ft.Axios=ut,ft.CanceledError=Le,ft.CancelToken=pt,ft.isCancel=Ce,ft.VERSION=rt,ft.toFormData=te,ft.AxiosError=K,ft.Cancel=ft.CanceledError,ft.all=function(e){return Promise.all(e)},ft.spread=function(e){return function(t){return e.apply(null,t)}},ft.isAxiosError=function(e){return V.isObject(e)&&!0===e.isAxiosError},ft.mergeConfig=je,ft.AxiosHeaders=Te,ft.formToJSON=e=>fe(V.isHTMLForm(e)?new FormData(e):e),ft.getAdapter=st,ft.HttpStatusCode=yt,ft.default=ft,e.exports=ft}},t={};function s(a){var n=t[a];if(void 0!==n)return n.exports;var r=t[a]={exports:{}};return e[a](r,r.exports,s),r.exports}s.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}();const a=s(364);window.ConveyThis_Initializer=new class extends a{constructor(){super()}},window.conveythis=new class extends a{constructor(){super()}}})();